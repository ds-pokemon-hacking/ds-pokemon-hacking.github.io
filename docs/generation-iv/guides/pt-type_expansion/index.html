<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-generation-iv/guides/pt-type_expansion/pt-type_expansion" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.9.1">
<title data-rh="true">Type Expansion | DS Pokémon Hacking</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://ds-pokemon-hacking.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://ds-pokemon-hacking.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://ds-pokemon-hacking.github.io/docs/generation-iv/guides/pt-type_expansion/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Type Expansion | DS Pokémon Hacking"><meta data-rh="true" name="description" content="Author: Yako"><meta data-rh="true" property="og:description" content="Author: Yako"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://ds-pokemon-hacking.github.io/docs/generation-iv/guides/pt-type_expansion/"><link data-rh="true" rel="alternate" href="https://ds-pokemon-hacking.github.io/docs/generation-iv/guides/pt-type_expansion/" hreflang="en"><link data-rh="true" rel="alternate" href="https://ds-pokemon-hacking.github.io/docs/generation-iv/guides/pt-type_expansion/" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Guides","item":"https://ds-pokemon-hacking.github.io/docs/category/guides"},{"@type":"ListItem","position":2,"name":"Type Expansion","item":"https://ds-pokemon-hacking.github.io/docs/generation-iv/guides/pt-type_expansion/"}]}</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.83da81f0.css">
<script src="/assets/js/runtime~main.b61456c8.js" defer="defer"></script>
<script src="/assets/js/main.e3713717.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",t||"light"),document.documentElement.setAttribute("data-theme-choice",t||"light")}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/kodsh.png" alt="DS Pokémon Hacking Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/kodsh.png" alt="DS Pokémon Hacking Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">DS Pokémon Hacking</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/category/guides">Generation IV</a><a class="navbar__item navbar__link" href="/docs/category/guides-1">Generation V</a><a class="navbar__item navbar__link" href="/docs/category/guides-2">Universal</a><a class="navbar__item navbar__link" href="/contributing">Contributing</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/ds-pokemon-hacking/ds-pokemon-hacking.github.io" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-label="(opens in new tab)" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist menu__link--active" href="/docs/category/guides"><span title="Guides" class="categoryLinkLabel_W154">Guides</span></a><button aria-label="Collapse sidebar category &#x27;Guides&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/generation-iv/guides/getting_started/"><span title="Getting Started" class="linkLabel_WmDU">Getting Started</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/generation-iv/guides/hgss-a3i5_a5i3_materials_and_darkness/"><span title="Translucent Textures with Darkness Weather" class="linkLabel_WmDU">Translucent Textures with Darkness Weather</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/generation-iv/guides/hgss-code_injection/"><span title="Code Injection" class="linkLabel_WmDU">Code Injection</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/generation-iv/guides/hgss-new_overworlds/"><span title="Adding New Overworlds in HeartGold Engine" class="linkLabel_WmDU">Adding New Overworlds in HeartGold Engine</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/generation-iv/guides/hgss-new_script_commands/"><span title="Creating New Script Commands in HeartGold Engine" class="linkLabel_WmDU">Creating New Script Commands in HeartGold Engine</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/generation-iv/guides/hgss-town_map/"><span title="Editing the Town Map" class="linkLabel_WmDU">Editing the Town Map</span></a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-2 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" tabindex="0" href="/docs/generation-iv/guides/mapping/"><span title="Mapping Overview" class="categoryLinkLabel_W154">Mapping Overview</span></a><button aria-label="Expand sidebar category &#x27;Mapping Overview&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/generation-iv/guides/ncer_sprite_editing/"><span title="Cell Editing for Sprites" class="linkLabel_WmDU">Cell Editing for Sprites</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/generation-iv/guides/overworld_sprites/"><span title="Overworld Sprite Replacement Guide" class="linkLabel_WmDU">Overworld Sprite Replacement Guide</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/generation-iv/guides/pt-reusable_repel/"><span title="Reusable Repel" class="linkLabel_WmDU">Reusable Repel</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/generation-iv/guides/pt-trainer_code_expansion/"><span title="Optimizing and Expanding Functionality for Trainer Pokemon" class="linkLabel_WmDU">Optimizing and Expanding Functionality for Trainer Pokemon</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/generation-iv/guides/pt-type_expansion/"><span title="Type Expansion" class="linkLabel_WmDU">Type Expansion</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/generation-iv/guides/pt_hgss-hp_bar_speed/"><span title="Changing the HP bar Speed" class="linkLabel_WmDU">Changing the HP bar Speed</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/generation-iv/guides/pt_hgss-pokemarts/"><span title="Adding New Poké Marts" class="linkLabel_WmDU">Adding New Poké Marts</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/generation-iv/guides/pt_hgss-reusabletms/"><span title="Enabling Reusable TMs" class="linkLabel_WmDU">Enabling Reusable TMs</span></a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/generation-iv/guides/pt_hgss-script_weather/"><span title="Setting the Weather From a Script" class="linkLabel_WmDU">Setting the Weather From a Script</span></a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="categoryLink_byQd menu__link menu__link--sublist" href="/docs/category/resources"><span title="Resources" class="categoryLinkLabel_W154">Resources</span></a><button aria-label="Expand sidebar category &#x27;Resources&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_z5aJ"><div class="docItemContainer_c0TR"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/docs/category/guides"><span>Guides</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Type Expansion</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_bxCs"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-footer-tags-row row margin-bottom--sm"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/docs/tags/guide-platinum">Guide (Platinum)</a></li></ul></div></div><div class="theme-doc-markdown markdown"><div style="display:flex;flex-wrap:wrap;gap:0.5rem;margin:1rem 0"><button style="padding:0.5rem 1rem;border-radius:8px;border:1px solid var(--ifm-color-primary);background:var(--ifm-color-primary);color:#fff;cursor:pointer;flex-shrink:0">← Back</button></div><header><h1>Type Expansion<sup><em>(Platinum)</em></sup></h1></header>
<blockquote>
<p>Author: Yako <br>
Previous implementations: Mikelan98 and BagBoy (<a href="https://pokehacking.com/tutorials/fairypt/" target="_blank" rel="noopener noreferrer">Original guide</a> to fairy type), Drayano (<a href="https://pastebin.com/hTeS5EkD" target="_blank" rel="noopener noreferrer">Another guide</a> to fairy type) <br>
Credits: Mikelan98 and Nomura (ARM9 Expansion), the entire DSPRE team and everyone who worked on pokeplatinum</p>
</blockquote>
<p>This is a tutorial on how to expand the types available in Platinum. This includes but is not limited to the addition of the Fairy type.
This <strong>only works on the US Version of the game</strong>.</p>
<p>This guide is split into two versions: A <strong>lite version</strong> that replaces the existing Mystery type (also known as ??? type) with the Fairy type, and an <strong>advanced version</strong> that sets up an environment that allows you to add multiple new types, including Fairy, without replacing any existing type.
I want to preface this guide by saying that even just replacing existing types is a very complex process, and it is not recommended for beginners. It requires a lot of knowledge about hex editing, spriting and the inner workings of the game. You will need to be comfortable using a hex editor, adding and modifying sprites, working with Nitro Paint as well as using DSPRE. The advanced version requires a basic understanding of armips and ASM code, but you won&#x27;t need to write any ASM code yourself. If you are not comfortable with these things, I recommend you start with the lite version of this guide.</p>
<p>This guide was only possible thanks to the work of Mikelan98 and BagBoy, who created the original Fairy type implementation for Platinum, which served as a starting point for this guide. I also want to thank everyone who worked on pokeplatinum, I am heavily relying on their work for this guide.</p>
<p>Before you start: In addition to this guide I have created a  a folder with a couple of helpful files which is available <a href="https://drive.google.com/file/d/10Ozf26GwUvjnUmsjasIDODuxoTa6RLNk/view?usp=sharing" target="_blank" rel="noopener noreferrer">here</a>. Throughout this guide I will refer to these files as the &quot;resources folder&quot;. The resources folder contains:</p>
<ul>
<li>A readme file which you should read before starting</li>
<li>The <code>type_expansion_PLAT.asm</code> armips script</li>
<li>All python scripts mentioned in this guide</li>
<li>Images / Sprite resources used in this guide</li>
</ul>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="table-of-contents">Table of Contents<a href="#table-of-contents" class="hash-link" aria-label="Direct link to Table of Contents" title="Direct link to Table of Contents" translate="no">​</a></h2>
<ul>
<li><a href="#type-expansion">Type Expansion</a>
<ul>
<li><a href="#table-of-contents">Table of Contents</a></li>
<li><a href="#lite-version">Lite Version</a>
<ul>
<li><a href="#tools-used">Tools used:</a></li>
<li><a href="#making-space-for-the-new-type-chart">Making space for the new type chart</a></li>
<li><a href="#editing-the-type-chart">Editing the type chart</a></li>
<li><a href="#assigning-new-types-to-moves-and-pok%C3%A9mon">Assigning new types to moves and Pokémon</a></li>
<li><a href="#adding-sprites">Adding sprites</a></li>
</ul>
</li>
<li><a href="#advanced-version">Advanced Version</a>
<ul>
<li><a href="#prerequisites">Prerequisites</a></li>
<li><a href="#setting-up-the-armips-script">Setting up the armips script</a></li>
<li><a href="#adding-new-types">Adding new types</a></li>
<li><a href="#assigning-new-types-2">Assigning new types to moves and Pokémon</a></li>
</ul>
</li>
<li><a href="#not-yet-covered-in-this-guide">Not (yet) covered in this guide</a></li>
</ul>
</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="lite-version">Lite Version<a href="#lite-version" class="hash-link" aria-label="Direct link to Lite Version" title="Direct link to Lite Version" translate="no">​</a></h2>
<p>This version replaces the existing Mystery type with the Fairy type. It is a simpler version of the advanced version, but it still requires some knowledge of hex editing and spriting as well as a basic understanding of DSPRE.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="tools-used">Tools used:<a href="#tools-used" class="hash-link" aria-label="Direct link to Tools used:" title="Direct link to Tools used:" translate="no">​</a></h3>
<ul>
<li><a href="https://github.com/Mixone-FinallyHere/DS-Pokemon-Rom-Editor/releases" target="_blank" rel="noopener noreferrer">DSPRE</a></li>
<li><a href="https://github.com/Garhoogin/NitroPaint/releases" target="_blank" rel="noopener noreferrer">Nitro Paint</a></li>
<li><a href="https://mh-nexus.de/en/downloads.php?product=HxD" target="_blank" rel="noopener noreferrer">HxD</a> (or any other hex editor)</li>
<li><a href="https://www.python.org/downloads/" target="_blank" rel="noopener noreferrer">Python</a> - Or install from the Microsoft Store (optional, for the type chart and palette helper scripts)</li>
<li>The resources folder belonging to this guide which can be found <a href="https://drive.google.com/file/d/10Ozf26GwUvjnUmsjasIDODuxoTa6RLNk/view?usp=sharing" target="_blank" rel="noopener noreferrer">here</a></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="making-space-for-the-new-type-chart">Making space for the new type chart<a href="#making-space-for-the-new-type-chart" class="hash-link" aria-label="Direct link to Making space for the new type chart" title="Direct link to Making space for the new type chart" translate="no">​</a></h3>
<p><strong>Before you start, make a backup of your ROM!</strong> <br>
First make sure you have the ARM9 expansion patch applied to your ROM. If you don&#x27;t have it, you can apply it using DSPRE&#x27;s toolbox.</p>
<p><img decoding="async" loading="lazy" alt="ARM9 Expansion Patch in DSPRE" src="/assets/images/arm9_expansion-f27da3759839f304b152ddf9c5ee9c87.png" width="1520" height="686" class="img_ev3q"></p>
<p>We will take advantage of the newly available space by repointing the move effect subscript table to a different location. The reason we do this is a practical one: repointing this table is much simpler than repointing the type chart itself. Since the type chart is located just before the this table, it will create ample space for us to modify the type chart without having to repoint it.</p>
<p>Next you will need to actually move the move effect subscript table to a different location. Open up your extracted folder generated by DSPRE and go to the <code>platinum_DSPRE_contents/overlay/</code> folder. Inside, you will find a file called <code>overlay_0016.bin</code>. Open it in a hex editor (I recommend HxD) and navigate to the offset <code>0x33CE4</code>. HxD can do this with the shortcut <code>Ctrl + G</code> by default. The beginning of the table should look like this:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">00 00 00 00 12 00 00 00 16 00 00 00 19 00 00 00 ...</span><br></span></code></pre></div></div>
<p>In total this table is a whole 0x244 (= 580) bytes long. Select the entire table and copy it to the clipboard.
In HxD, you can do this by pressing <code>Ctrl + E</code> which will bring up a block selection menu. Your start offset should be <code>0x33CE4</code> and the length should be <code>0x244</code>.
Keep your hex editor and this file open, as we will need it again later.</p>
<p><img decoding="async" loading="lazy" alt="Copying the move effect subscript table in HxD" src="/assets/images/block_select-027de52d920fe0dc0340b4ed550bb9da.png" width="293" height="313" class="img_ev3q"></p>
<p>Next navigate to <code>platinum_DSPRE_contents/unpacked/synthOverlay/</code>. Open the file called <code>0009</code> in your hex editor. This file is your synthetic overlay. If you haven&#x27;t applied the ARM9 expansion before, this file will be empty. Otherwise, it may contain some data. Make sure not to accidentally overwrite any existing data, as it will most likely prevent your game from functioning properly.</p>
<p>We will now move the move effect subscript table to a location in this file. I recommend using the offset <code>0x1000</code> for this, simply because it is a nice round number and it is far enough away from the beginning of the file, making it unlikely that you will overwrite any existing data. Double check to make sure that this offset is actually empty before proceeding. You can do this by block selecting the next 0x244 (= 580) bytes and checking if they are all zeroes. <br>
(This location isn&#x27;t empty for you? You can put it somewhere else, but make sure to adjust the pointer accordingly later on. If you don&#x27;t know how to do this, I recommend asking for help on discord.) <br>
Paste the move effect subscript table into this file without changing the file&#x27;s length. In HxD, you can do this by pressing <code>Ctrl + B</code>. Make sure to save the file after pasting the data.</p>
<p>The table is now in its new location, however, we still need to tell the game where to find it. To do this, we will need to modify the pointer to the move effect subscript table.
Our table is now located at <code>0x1000</code> in the synthetic overlay, which is loaded at address <code>0x023C8000</code> in memory. Because of this, our new pointer will be <code>0x023C9000 = 0x023C8000 + 0x1000</code>.
The game uses little-endian format, so we will need to write this pointer in reverse order. In hex, this is <code>00 90 3C 02</code>.
Navigate to the offset <code>0x204F8</code> in the <code>overlay_0016.bin</code> file. You should see <code>24 EE 26 02</code>. Select and replace these four bytes with <code>00 90 3C 02</code>. Don&#x27;t forget to save the file after making this change.</p>
<p>At this point I strongly advice you save your ROM in DSPRE and test it to make sure it actually still works. Get in a battle and use a move (preferably one that has an effect beyond just dealing damage) to make sure the game doesn&#x27;t crash. If it does or you see weird graphical glitches, you probably made a mistake somewhere. If it doesn&#x27;t, congratulations! You have successfully moved the move effect subscript table to a new location.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="editing-the-type-chart">Editing the type chart<a href="#editing-the-type-chart" class="hash-link" aria-label="Direct link to Editing the type chart" title="Direct link to Editing the type chart" translate="no">​</a></h3>
<p>Now that we have made space for the new type chart, we can actually edit it. This section will guide you through the process of editing the type chart using a hex editor, explaining how the type chart works and how to add new types or change existing types along the way. If you know how to run a python script, you can use the file <code>type_chart_helper.py</code> which is included in the accompanying resources folder. It will generate the triplets for you by reading a csv as input. A template csv with mystery type replaced by fairy type and the modern steel type changes is included in the resources folder as well. You can also use the modern type chart provided <a href="#the-modern-type-chart">here</a> and paste it at the correct offset.
If you decide to go this route, I recommend you read through this section anyway, as it will help you understand how the type chart works and how it is actually structured in the ROM.</p>
<p>The type chart is located at the offset <code>0x33B94</code> in <code>overlay_0016.bin</code>. Open this file in your hex editor and navigate to this offset. You should see a table that looks like this:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">00 05 05 00 08 05 0A 0A 05 ...</span><br></span></code></pre></div></div>
<p>The table is 0x150 (= 336) bytes long and contains the type effectiveness multipliers for each type against every other type. It consists of a series of triplets that have the following structure:</p>
<table><thead><tr><th style="text-align:center">Attacking Type</th><th style="text-align:center">Defending Type</th><th style="text-align:center">Multiplier</th></tr></thead><tbody><tr><td style="text-align:center">Byte A</td><td style="text-align:center">Byte D</td><td style="text-align:center">Byte M</td></tr></tbody></table>
<p>The first byte (Byte A) is the attacking type, the second byte (Byte D) is the defending type and the third byte (Byte M) is the multiplier. The multiplier M is equal to:</p>
<ul>
<li><code>0x0</code> (= 0) for no effect</li>
<li><code>0x5</code> (= 5) for not very effective</li>
<li><code>0xA</code> (= 10) for normally effective</li>
<li><code>0x14</code> (= 20) for super effective</li>
</ul>
<p>In damage calculations, these multipliers are divided by 10, so 0x5 becomes 0.5, 0xA becomes 1.0 and 0x14 becomes 2.0.
To determine effectiveness, the game will go trough this table trying to find a match for the attacking type and the defending type. If it finds a match, it will use the multiplier to calculate the damage dealt. If it doesn&#x27;t find a match, it will <strong>default to 1.0</strong> (normal effectiveness).</p>
<p>At the end there is a set of three spacer bytes (<code>0xFE 0xFE 0x00</code>) followed by the ghost type immunities. It&#x27;s important that you preserve these bytes, as otherwise moves like foresight and odour sleuth will not work properly. After the ghost type immunities, there is a set of three bytes that mark the end of the type chart (<code>0xFF 0xFF 0x00</code>).</p>
<p>To add a new type or change an existing type we can insert new triplets into this table, modify the existing triplets or remove existing triplets. If you want to add a new type, you will need to add a new triplet for each type it is effective against, as well as triplets for each type that resists it or is immune to it. Make sure to add the triplets before the spacer bytes. Also keep in mind that duplicate triplets will be ignored, only the first match will be used.</p>
<p>Before we can edit the type chart, we will also need the list of the type&#x27;s IDs:</p>
<a id="type-ids"></a>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Type IDs</summary><div><div class="collapsibleContent_i85q"><table><thead><tr><th style="text-align:center">Type Name</th><th style="text-align:center">Type ID</th><th style="text-align:center">Type ID (Decimal)</th></tr></thead><tbody><tr><td style="text-align:center">Normal</td><td style="text-align:center">0x00</td><td style="text-align:center">0</td></tr><tr><td style="text-align:center">Fighting</td><td style="text-align:center">0x01</td><td style="text-align:center">1</td></tr><tr><td style="text-align:center">Flying</td><td style="text-align:center">0x02</td><td style="text-align:center">2</td></tr><tr><td style="text-align:center">Poison</td><td style="text-align:center">0x03</td><td style="text-align:center">3</td></tr><tr><td style="text-align:center">Ground</td><td style="text-align:center">0x04</td><td style="text-align:center">4</td></tr><tr><td style="text-align:center">Rock</td><td style="text-align:center">0x05</td><td style="text-align:center">5</td></tr><tr><td style="text-align:center">Bug</td><td style="text-align:center">0x06</td><td style="text-align:center">6</td></tr><tr><td style="text-align:center">Ghost</td><td style="text-align:center">0x07</td><td style="text-align:center">7</td></tr><tr><td style="text-align:center">Steel</td><td style="text-align:center">0x08</td><td style="text-align:center">8</td></tr><tr><td style="text-align:center">Mystery</td><td style="text-align:center">0x09</td><td style="text-align:center">9</td></tr><tr><td style="text-align:center">Fire</td><td style="text-align:center">0x0A</td><td style="text-align:center">10</td></tr><tr><td style="text-align:center">Water</td><td style="text-align:center">0x0B</td><td style="text-align:center">11</td></tr><tr><td style="text-align:center">Grass</td><td style="text-align:center">0x0C</td><td style="text-align:center">12</td></tr><tr><td style="text-align:center">Electric</td><td style="text-align:center">0x0D</td><td style="text-align:center">13</td></tr><tr><td style="text-align:center">Psychic</td><td style="text-align:center">0x0E</td><td style="text-align:center">14</td></tr><tr><td style="text-align:center">Ice</td><td style="text-align:center">0x0F</td><td style="text-align:center">15</td></tr><tr><td style="text-align:center">Dragon</td><td style="text-align:center">0x10</td><td style="text-align:center">16</td></tr><tr><td style="text-align:center">Dark</td><td style="text-align:center">0x11</td><td style="text-align:center">17</td></tr></tbody></table></div></div></details>
<p>Simply modifying the type chart is actually sufficient to have a functional fairy type in the game, however, it will still display as the mystery type in battle, in the menu and in the Pokédex.
We also need to assign the type to the desired moves and Pokémon.</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="the-modern-type-chart">The modern type chart<a href="#the-modern-type-chart" class="hash-link" aria-label="Direct link to The modern type chart" title="Direct link to The modern type chart" translate="no">​</a></h4>
<p>For your convenience, here is the modern type chart with the Fairy type replacing the Mystery type. You can use this as a reference when editing the type chart or simply copy and paste it as is.</p>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Modern Type Chart (Fairy type replacing Mystery type)</summary><div><div class="collapsibleContent_i85q"><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">00 05 05 00 08 05 0A 0A 05 0A 0B 05 0A 0C 14 0A 0F 14 0A 06 14 0A 05 05 0A 10 05 0A 08 14 0B 0A 14 0B 0B 05 0B 0C 05 0B 04 14 0B 05 14 0B 10 05 0D 0B 14 0D 0D 05 0D 0C 05 0D 04 00 0D 02 14 0D 10 05 0C 0A 05 0C 0B 14 0C 0C 05 0C 03 05 0C 04 14 0C 02 05 0C 06 05 0C 05 14 0C 10 05 0C 08 05 0F 0B 05 0F 0C 14 0F 0F 05 0F 04 14 0F 02 14 0F 10 14 0F 08 05 0F 0A 05 01 00 14 01 0F 14 01 03 05 01 02 05 01 0E 05 01 06 05 01 05 14 01 11 14 01 08 14 01 09 05 03 0C 14 03 03 05 03 04 05 03 05 05 03 07 05 03 08 00 03 09 14 04 0A 14 04 0D 14 04 0C 05 04 03 14 04 02 00 04 06 05 04 05 14 04 08 14 02 0D 05 02 0C 14 02 01 14 02 06 14 02 05 05 02 08 05 0E 01 14 0E 03 14 0E 0E 05 0E 11 00 0E 08 05 06 0A 05 06 0C 14 06 01 05 06 03 05 06 02 05 06 0E 14 06 07 05 06 11 14 06 08 05 06 09 05 05 0A 14 05 0F 14 05 01 05 05 04 05 05 02 14 05 06 14 05 08 05 07 00 00 07 0E 14 07 11 05 07 07 14 10 10 14 10 08 05 10 09 00 11 01 05 11 0E 14 11 07 14 11 11 05 11 09 05 08 0A 05 08 0B 05 08 0D 05 08 0F 14 08 05 14 08 08 05 08 09 14 09 10 14 09 01 14 09 11 14 09 03 05 09 08 05 09 0A 05 FE FE 00 00 07 00 01 07 00 FF FF 00</span><br></span></code></pre></div></div></div></div></details>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="using-the-type_chart_helperpy-script">Using the <code>type_chart_helper.py</code> script<a href="#using-the-type_chart_helperpy-script" class="hash-link" aria-label="Direct link to using-the-type_chart_helperpy-script" title="Direct link to using-the-type_chart_helperpy-script" translate="no">​</a></h4>
<p>If you want to use the <code>type_chart_helper.py</code> script, you will need to have Python installed on your computer. You can download it from <a href="https://www.python.org/downloads/" target="_blank" rel="noopener noreferrer">here</a>. Alternatively, you can install it from the Microsoft Store, which is the easiest way to get it on Windows. At the top of the file you will find the settings for the script. You will need to provide the path to your overlay 16 file, the path may be something like <code>platinum_DSPRE_contents/unpacked/overlay/overlay_0016.bin</code>. There is also a <code>mode</code> setting which can be set to either <code>bin-to-csv</code> or <code>csv-to-bin</code>. The first mode will convert the binary type chart to a CSV file, while the second mode will convert a CSV file to a binary type chart and write it to your overlay. The script will create a new file called <code>type_chart.csv</code> in the same folder as the script. If you plan on adding new types, you can also add them to the enum at the top of the file. The resources folder contains a template CSV file for the modern type chart with the Fairy type replacing the Mystery type calles <code>modern_type_chart.csv</code>. You can use this as a starting point for your own type chart or just copy it as is. The folder also contains a copy of the vanilla type chart called <code>vanilla_type_chart.csv</code> which you can use to revert your changes if needed.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="assigning-new-types-to-moves-and-pokémon">Assigning new types to moves and Pokémon<a href="#assigning-new-types-to-moves-and-pokémon" class="hash-link" aria-label="Direct link to Assigning new types to moves and Pokémon" title="Direct link to Assigning new types to moves and Pokémon" translate="no">​</a></h3>
<p>To do this we can simply use DSPRE. Open your ROM in DSPRE and go to <em>Other Editors</em> &gt; <em>Pokémon Editor</em>. Select the Pokémon you want to assign the new type to and select it from the <em>Types</em> dropdown.
You can also assign the new type to moves in the <em>Move Editor</em> in the same way. Make sure to save your changes after assigning the new type to the desired Pokémon and moves. In our case the Fairy type replaces the Mystery type, so that&#x27;s the type we need to select. You can also edit text archive 624 to change the name of the type to Fairy. This is not strictly necessary however.</p>
<p>For the sake of this guide, I am assigning Clefairy the Fairy type and also changing the type of Charm and Moonlight. In game this will look like this:</p>
<!-- -->
<div class="image-container"><img src="/assets/images/battle_no_sprite-197314baa4f00888d9f68d1a90986460.png" alt="Modified Clefairy in battle" width="300" style="vertical-align:top"><img src="/assets/images/summary_no_sprite-0c0032ac75093bb911df56d3701dbd81.png" alt="Modified Clefairy in summary" width="300" style="vertical-align:top"><img src="/assets/images/dex_no_sprite-1397c75551994cb242f7e0062b96760a.png" alt="Modified Clefairy in Pokédex" width="300" style="vertical-align:top"></div>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="adding-sprites">Adding sprites<a href="#adding-sprites" class="hash-link" aria-label="Direct link to Adding sprites" title="Direct link to Adding sprites" translate="no">​</a></h3>
<p>In total we will need to add 3 things: A sprite for the type icon, a sprite for the type in the Pokédex and a palette used by the move selection in battle. The first two can be done using DSPRE and Nitro Paint, while the third one requires some hex editing.
I recommend you make a temporary workspace folder that you can use to store some extracted files and sprites.</p>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Type Icon</summary><div><div class="collapsibleContent_i85q"><p>Let&#x27;s take care of the easiest one first: the type icon. Open your ROM in DSPRE and select <em>Tools</em> &gt; <em>NARC Utility</em> &gt; <em>Unpack to Folder</em>. (You can also use the button in the bar at the top.)
When promted, select <code>platinum_DSPRE_contents/data/battle/graphic/pl_batt_obj.narc</code> as the NARC file and unpack it to your workspace folder. This will create a new folder called <code>pl_battle_obj</code> in your workspace folder. When asked if you want to rename the files, select &quot;Yes&quot;. This will make it easier to find the files later on.</p><p>The type icons consist of four files: a palette file (<code>0074.rlcn</code>), the icon itself (for mystery type this is <code>0236.rgcn</code>) and a cell resource as well as an animation which we will refrain from touching.
You can drag both the palette file and the icon file into Nitro Paint to open them. The palette file contains the colors used by the icon, while the icon file contains the actual sprite.
If you want to make your own icon, some basic knowledge of Nitro Paint and Aseprite are required. If you only care about the Fairy type, you can use the icon I made for this guide, which is included in the resources folder as <code>fairy_icon.png</code> as well as <code>fairy_icon.rgcn</code>.
You could just replace the existing mystery type icon with the fairy type icon, but I recommend you create a new file for it instead. Have a look inside the <code>pl_battle_obj</code> folder again. The last file should be <code>0342.rnan</code>. Take your <code>.rgcn</code> file and name it something like <code>0343.rgcn</code> (i.e. make sure the number is higher than the last file). Then use DSPRE to pack the folder back into a NARC file. Select the <code>pl_battle_obj</code> folder and pack it into <code>pl_batt_obj.narc</code>. After that replace the original <code>pl_batt_obj.narc</code> in your ROM with the newly created one.</p><p>Next we will need to tell the game to use the new type icon instead of the mystery type icon. To do this, we will need to modify the pointer to the type icon in battle. The game uses a table to determine which type icon to use for each type. This table is located at the offset <code>0xF0AF0</code> in the <code>arm9.bin</code> file of your ROM.</p><p>Open <code>platinum_DSPRE_contents/arm9.bin</code> in your hex editor and navigate to the offset <code>0xF0B14</code>. You should see <code>EC 00 00 00</code>. This is the index of the type icon in the <code>pl_batt_obj.narc</code>. Change this to the index of your new type icon. In this case, we will use <code>57 01 00 00</code> which corresponds to index 343 (the index of the new fairy type icon we just created). Make sure to save the file after making this change.</p><p>If you check it out in game, you will notice that the icon is using the wrong palette. This is because the game is still using the palette of the mystery type icon. To fix this, we will need to change the palette used by the type icon in battle. The game uses a table to determine which palette to use for each type icon. This table is located at the offset <code>0xF0B4C</code> in the <code>arm9.bin</code> file of your ROM.</p><p>Open <code>platinum_DSPRE_contents/arm9.bin</code> in your hex editor and navigate to the offset <code>0xF0B55</code>. You should see the byte <code>02</code>. Change this to the palette index of your new type icon. In this case, we will use <code>01</code> for the Fairy type which is the correct palette for the icon included in the resources folder.
Save the file and test it in game. The icon should now display correctly in battle and in the summary screen.</p></div></div></details>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Move Selection Palette</summary><div><div class="collapsibleContent_i85q"><p>Let&#x27;s take care of the move selection palette next. This palette is used in battle when selecting a move and is located at the offset <code>0x28C</code> in <code>overlay/overlay_0011.bin</code>. Open this file in your hex editor and navigate to the offset <code>0x28C</code>. You should see a series of bytes that look like this:</p><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">cd 75 ff 7f 7a 5a 17 4e b5 45 72 3d 30 31 ed 28 cb 20 fb 66 c6 18 00 00 8c 31 5c 37 be 57 00 00</span><br></span></code></pre></div></div><p>This is the palette used for the mystery type. This one is a bit more tricky to edit. The resources folder contains a file called <code>palette.pal</code> which contains the palette for the Fairy type, a file called <code>move_selection_box.aseprite</code> which should help you get started with creating your own palette and a python script called <code>palette_helper.py</code> which can help you convert a palette from JASC-Pal to the format used in the game and vice versa. If you wish you can use the palette I made for this guide, which is represented by the following bytes:</p><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">CD 75 FF 7F 7C 66 17 52 18 56 1B 5E 35 41 F2 38 B2 34 DD 6E C6 18 00 00 8C 31 5C 37 BE 57 00 00</span><br></span></code></pre></div></div></div></div></details>
<details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Pokédex Type Icon</summary><div><div class="collapsibleContent_i85q"><p>The last thing we need to do is add the type icon to the Pokédex. This is the most annoying one to do since all the icons are stored as different animations that pull from a large cell graphic. The Pokédex icons are located in the <code>/data/resource/eng/zukan/zukan.narc</code> file. Unpack this file to your workspace folder using DSPRE&#x27;s NARC utility just like we did with the other type icon. To save you some pain the resource folder contains the required files for Fairy Type. If that&#x27;s all you want to do, you can <a href="#packing-zukan-narc">skip</a> the next section and just drag the provided files into the zukan folder, don&#x27;t forget to pack the NARC again. If you want to learn how to add your own type icons, read on.</p><p>You&#x27;ll need the palette file <code>0013.rlcn</code> and the cell graphic <code>0090.rgcn</code> again, but this time we will also need the animation file <code>0089.rnan</code> and the cell resource <code>0088.recn</code>.
Drag them all into Nitro Paint to open them. The cell graphic contains the actual sprite, the animation file contains the animation data and the cell resource contains the cell data that tells the game how to display the sprite. The .rgcn can be a bit hard to process visually, because frustratingly GF decided to throw in another unrelated and exceptionally large sprite at the end of the file. You&#x27;ll also notice that the sorting of the cells is completely arbitrary, which will cause a ton of issues later since we will need to sort the cells by internal type ID. To save you having to painstakingly reorder the cells, the included <code>.rnan</code> file is already sorted. If you are planning to add your own type icons I suggest working with the provided files as a template. The template is already completely set up to work with the Fairy type, so the rest of this section explains the process on how you can recreate this on your own.</p><p>We will need to add a new cell for the Fairy type icon. To do this, click on the &quot;New Cell&quot; cell button and save. This will create a new cell with the at the end of the list. Next have a look at the <code>.rgcn</code> file. I recommend setting the width to 4 since it makes it easier to see the individual sprites. Click &quot;Resize&quot; and add 3 extra rows for a total size of 4 by 74. This will give us enough space to add the new type icon without overwriting any existing data. After that save the file.</p><p>Next we will need to add the actual sprite. You can either create your own sprite or use the one I made for this guide, which is included in the resources folder as <code>fairy_icon_pokedex.png</code>.
In the Cell Editor, select the new cell you created and click &quot;Generate Cell&quot;. You will be promted to select a sprite file. Select the <code>fairy_icon_pokedex.png</code> file and click &quot;Open&quot;. In the generate cell dialog, make sure to select the <strong>correct palette</strong> (the one you used for the type icon). The provided icon uses <strong>palette 3. Do not tick write palette</strong> as this will overwrite the palette used by the other type icons. Click &quot;Complete&quot; to create the cell. You should now see the new type icon in the cell editor. Make sure to save the cell resource after generating the cell.</p><p>Next we&#x27;ll need to add the new cell to the animation. Open the animation file in Nitro Paint. It should contain 17 existing animations, one for each type and one for the unrelated Pokédex sprite at the end. Click on the &quot;New Sequence&quot; button to append a new sequence. We now have enough space for all the icons. Next we will need to sort them according to the internal type ID. We will see exactly why later. Sequence 0 should be the yellow rectangle, having it be the first sequence is convenient for mapping the type IDs to the sequences later. The remaining sequences should be ordered according to the internal type ID, which is the same as the type ID used in the type chart (see <a href="#type-ids">this</a> table). You can therefore double check that you have the right order by subtracting 1 from the sequence number and comparing it to the type ID. For example, sequence 1 should be the Normal type, which has the type ID 0 and so on. Since we are replacing the Mystery type with the Fairy type, sequence 10 should be the Fairy type icon.</p><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Steps in Nitro Paint</summary><div><div class="collapsibleContent_i85q"><div class="image-container"><img src="/assets/images/nitro_paint_1-5828a654879d2c72a765ddd6f7f7ac15.png" alt="Steps in Nitro Paint" width="1000"><img src="/assets/images/nitro_paint_2-42612b43c2990a27612b5b48d2b5a67e.png" alt="Steps in Nitro Paint" width="1000"><img src="/assets/images/nitro_paint_3-58ae451b7178703be96a65c69f398ed6.png" alt="Steps in Nitro Paint" width="300"></div></div></div></details><a id="packing-zukan-narc"></a><p>Use DSPRE&#x27;s NARC utility to pack the <code>zukan</code> folder back into a NARC file. Select the <code>zukan</code> folder and pack it into <code>zukan.narc</code>. After that replace the original <code>zukan.narc</code> in your ROM with the newly created one.</p><h4 class="anchor anchorWithStickyNavbar_LWe7" id="modifying-the-games-code-to-show-the-pokédex-icon">Modifying the game&#x27;s code to show the Pokédex icon<a href="#modifying-the-games-code-to-show-the-pokédex-icon" class="hash-link" aria-label="Direct link to Modifying the game&#x27;s code to show the Pokédex icon" title="Direct link to Modifying the game&#x27;s code to show the Pokédex icon" translate="no">​</a></h4><p>Since we completely resorted the sequences in the animation file, we will need to modify the game&#x27;s code to make sure it uses the correct sequence for each type. In vanilla Platinum, the game uses a function that reads from a table to determine which sequence to use for each type. The function is located at offset <code>0xE400</code> in <code>overlay_0021.bin</code>. Open this file in your hex editor and navigate to this offset. You should see a series of bytes that look like this:</p><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">11 28 38 D8 01 18 79 44 ...</span><br></span></code></pre></div></div><p>Replace it (Ctrl + B in HxD) with the following bytes:</p><div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">01 30 70 47 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00 00</span><br></span></code></pre></div></div><p>Instead of doing some complex mapping of the type IDs to the sequences, we simply add 1 to the type ID and use that as the sequence number. This is the reason we sorted the sequences to begin with.
We also need to tell the game where to find the yellow rectangle sprite (used in the backround of the Pokédex). To do so navigate to following three offsets:</p><ul>
<li><code>0xE514</code></li>
<li><code>0x1066C</code></li>
<li><code>0x1066C</code></li>
</ul><p>At each of these offsets you should see <code>11 21</code>. Replace it with <code>00 21</code>.</p><div class="image-container"><img src="/assets/images/battle_fairy-8427137d1852e79e5b50f978227ce29c.png" alt="Clefairy with Fairy type in battle" width="300" style="vertical-align:top"><img src="/assets/images/summary_fairy-89157cae4e4c3669fce25ef61e2e34a9.png" alt="Clefairy with Fairy type in summary" width="300" style="vertical-align:top"><img src="/assets/images/dex_fairy-e2b70c5936690731f965484ced30ade3.png" alt="Clefairy with Fairy type in Pokédex" width="300" style="vertical-align:top"></div></div></div></details>
<p>At this point you should have a fully functional Fairy type in your game. You can test it by using a Pokémon with the Fairy type in battle and checking the Pokédex to see if the new icon is displayed correctly. If everything works as expected, congratulations! You have successfully added the Fairy Type to Platinum.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="advanced-version">Advanced Version<a href="#advanced-version" class="hash-link" aria-label="Direct link to Advanced Version" title="Direct link to Advanced Version" translate="no">​</a></h2>
<p>The advanced version of this guide is meant for those who want to add <strong>multiple new types to the game without replacing any existing type</strong>. It is a more complex process that requires a rudimentary understanding of armips. You won&#x27;t actually need to know how to write any ASM code, but you will need to know how to apply patches using armips. You will also need to know how to make minor edits to armips scripts as well as edit and run python scripts. The advanced version of this guide isn&#x27;t actually independent from the lite version, so I recommend you read through the lite version first to get a better understanding of how the type chart works and how to add new types.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="tools-used-1">Tools used:<a href="#tools-used-1" class="hash-link" aria-label="Direct link to Tools used:" title="Direct link to Tools used:" translate="no">​</a></h3>
<ul>
<li>All the tools used in the lite version of this guide, plus:</li>
<li><a href="https://github.com/Kingcom/armips/releases" target="_blank" rel="noopener noreferrer">armips</a></li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="prerequisites">Prerequisites<a href="#prerequisites" class="hash-link" aria-label="Direct link to Prerequisites" title="Direct link to Prerequisites" translate="no">​</a></h3>
<ul>
<li>As before make sure you have the ARM9 expansion patch applied to your ROM. If you don&#x27;t have it, you can apply it using DSPRE&#x27;s toolbox.</li>
<li>Go ahead and repoint the move effect subscript table as described in the lite version of this guide. This is necessary to make space for the new type chart.</li>
<li>Modify the type chart to include your new types as described. If you&#x27;re adding multiple new types, then don&#x27;t even bother doing this manually, just use the <code>type_chart_helper.py</code> script included in the resources folder.</li>
<li>Make sure you have the <code>armips</code> tool installed and available in your PATH. You can download it from <a href="https://github.com/Kingcom/armips/releases" target="_blank" rel="noopener noreferrer">here</a></li>
<li>Make sure you have <code>python</code> installed and available in your PATH. On windows you can actually download it from the Microsoft Store, which is the easiest way to get it. I personally recommend setting up anaconda since it allows for easy management of python packages and environments, but this is not strictly necessary for this guide nor will it be covered here.</li>
<li>You&#x27;ll need to make all the graphic assets for your new types. This includes the type icon, the Pokédex icon and the move selection palette. You can use the resources provided in the lite version of this guide as a starting point, but you will need to create your own assets for any other types you want to use.</li>
<li>When inserting your sprites, make sure to take note of their indices in the respective NARC file / Cell Resource. You will need to use these indices in the armips script later on.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="setting-up-the-armips-script">Setting up the armips script<a href="#setting-up-the-armips-script" class="hash-link" aria-label="Direct link to Setting up the armips script" title="Direct link to Setting up the armips script" translate="no">​</a></h3>
<p>The armips script is used to modify the game&#x27;s code to support the new types. You don&#x27;t need to do any of the hex edits from the lite version as the script will do it for you. While it will also handle the repointing of the the move effect subscript table altough you will need to actually paste it at the defined offset yourself. The script is included in the resources folder as <code>type_expansion_PLAT.asm</code>. Open it in an editor of your choice and have a look at it. You will need to make some changes to it before you can use it.</p>
<ul>
<li>First edit the <em>GameFolder</em> variable to point to the folder where your unpacked ROM is located. This folder will usually be called something like <code>platinum_DSPRE_contents</code>.</li>
<li>Next edit the <em>MoveEffectSubscriptOffset</em> variable to point to the offset where you want to paste the move effect subscript table. This should be the same offset you used when moving the table in the lite version of this guide. If you followed the guide, this should be <code>0x1000</code>.</li>
<li>You will also need to specify the length of the move effect subscript table in the <em>SubscriptLength</em> variable. This should be <code>0x244</code> (the length of the table in bytes). By default, this is set to <code>0x250</code> to make it a bit easier to identify the table in the hex editor, but you can change it to <code>0x244</code> if you prefer.</li>
<li>(Side note: By changing this variable and putting new scripts in the right narc you can actually add more move effects to the game as well, but this is not covered in this guide.)</li>
<li>Edit the <em>SynthOverlayRelativeOffset</em> variable to point to an empty location in the synthetic overlay file. This one should be at an even offset before the offset you used for the move effect subscript table. This could be something like <code>0xF00</code>. We will use this to hold some code that will handle the new types.</li>
<li>You will need to specify the total amount of types in the <em>TypeCount</em> variable. This should be the total amount of types including the existing types. For example, if you want to add the Fairy type and the Sound type, this should be <code>20 = 18 (vanilla) + 2 (new)</code>.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="adding-new-types">Adding new types<a href="#adding-new-types" class="hash-link" aria-label="Direct link to Adding new types" title="Direct link to Adding new types" translate="no">​</a></h3>
<p>The main part of the the script is the <em>Tables</em> section at the bottom of the file. This is where you will tell the game where to look for your new icons and which palettes to use. This is also where you can define new palettes for the move selection box in battle. The script is already set up to handle the Fairy type, so you can use it as a template for your own types.</p>
<ul>
<li>The <em>MoveIconTable</em> contains the indices of the respective .rgcn files for the type icons in battle and summary screen. The indices are in the same order as the type IDs defined in the <code>type_chart_helper.py</code> script (have a look at the enum at the top). For example, if you want to add the Sound type, you would add a new entry to this table with the index of your Sound type icon.</li>
<li>The <em>MoveIconPaletteTable</em> contains the indices of the palettes used by the type icons in battle and summary screen. The game always uses <code>0074.rlcn</code> for the type icons, if you want custom palettes you will need to add it to this file.</li>
<li>Just to make sure you don&#x27;t go looking for it: There is no need to make changes to the Pokédex icon table. We just read the animation with the same ID as the type ID from <code>0090.rnan</code>. If you correctly added the animation and associated graphics using Nitro Paint the game will take care of the rest.</li>
<li>The <em>MoveSelectionPaletteTable</em> contains the addresses of the palettes used by the move selection box in battle.</li>
<li>Finally, you can define the actual palettes used by the <em>MoveSelectionPaletteTable</em>. Make sure to define the addresses of any new palettes up top in the <em>AdressDefinitions</em> section. You can <strong>and should(!)</strong> use the <code>palette_helper.py</code> script to convert your palette from JASC-Pal format to the format used in the game. This way you can use Aseprite to create your palettes and then convert them to the format used in the game.</li>
</ul>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="assigning-new-types-to-moves-and-pokémon-1">Assigning new types to moves and Pokémon<a href="#assigning-new-types-to-moves-and-pokémon-1" class="hash-link" aria-label="Direct link to Assigning new types to moves and Pokémon" title="Direct link to Assigning new types to moves and Pokémon" translate="no">​</a></h3>
<a id="assigning-new-types-2"></a>
<p>Unlike before we need to to a bit of extra work so that DSPRE actually knows about the new types. Open up Text Archive 624 in DSPRE. Append a new line to the end of the file with the name of your new type. For example, if you want to add the Fairy and Sound type, you would add a new line with the name &quot;FAIRY&quot; and one named &quot;SOUND&quot;. The message number in this file is actually what DSPRE uses to determine the type ID, so make sure to add them in the correct order or everything will break. Also make sure not to remove any lines from this file, unless there are no Pokémon or moves that use the type you are removing. If you don&#x27;t do this, DSPRE will crash the next time you try to open the Pokémon or Move Editor.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="not-yet-covered-in-this-guide">Not (yet) covered in this guide<a href="#not-yet-covered-in-this-guide" class="hash-link" aria-label="Direct link to Not (yet) covered in this guide" title="Direct link to Not (yet) covered in this guide" translate="no">​</a></h2>
<p>As of right now, this guide does not yet cover:</p>
<ul>
<li>Adding the new types to the Move Tester Pokétch app</li>
<li>Adding the new types to the TV related menus</li>
<li>Adding new types to hidden power (vanilla did not actually implement hidden power fairy so this is not strictly necessary)</li>
<li>Adding new types to natural gift</li>
<li>Adding new type boosting items (e.g. Pixie Plate, Sound Plate, etc.)</li>
<li>Adding new Arceus forms for the new types
I may cover these topics in a future update to this guide, but they aren&#x27;t a priority right now. I suspect that expanding Arceus forms will be particularly difficult, so I may not cover it at all.</li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/ds-pokemon-hacking/ds-pokemon-hacking.github.io/docs/generation-iv/guides/pt-type_expansion/pt-type_expansion.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_VsjB"></div></div></footer></article><nav class="pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/generation-iv/guides/pt-trainer_code_expansion/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Optimizing and Expanding Functionality for Trainer Pokemon</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/generation-iv/guides/pt_hgss-hp_bar_speed/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Changing the HP bar Speed</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#table-of-contents" class="table-of-contents__link toc-highlight">Table of Contents</a></li><li><a href="#lite-version" class="table-of-contents__link toc-highlight">Lite Version</a><ul><li><a href="#tools-used" class="table-of-contents__link toc-highlight">Tools used:</a></li><li><a href="#making-space-for-the-new-type-chart" class="table-of-contents__link toc-highlight">Making space for the new type chart</a></li><li><a href="#editing-the-type-chart" class="table-of-contents__link toc-highlight">Editing the type chart</a></li><li><a href="#assigning-new-types-to-moves-and-pokémon" class="table-of-contents__link toc-highlight">Assigning new types to moves and Pokémon</a></li><li><a href="#adding-sprites" class="table-of-contents__link toc-highlight">Adding sprites</a></li></ul></li><li><a href="#advanced-version" class="table-of-contents__link toc-highlight">Advanced Version</a><ul><li><a href="#tools-used-1" class="table-of-contents__link toc-highlight">Tools used:</a></li><li><a href="#prerequisites" class="table-of-contents__link toc-highlight">Prerequisites</a></li><li><a href="#setting-up-the-armips-script" class="table-of-contents__link toc-highlight">Setting up the armips script</a></li><li><a href="#adding-new-types" class="table-of-contents__link toc-highlight">Adding new types</a></li><li><a href="#assigning-new-types-to-moves-and-pokémon-1" class="table-of-contents__link toc-highlight">Assigning new types to moves and Pokémon</a></li></ul></li><li><a href="#not-yet-covered-in-this-guide" class="table-of-contents__link toc-highlight">Not (yet) covered in this guide</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 DS Pokémon Hacking. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>