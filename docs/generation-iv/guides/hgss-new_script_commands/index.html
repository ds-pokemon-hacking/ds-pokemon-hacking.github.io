<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-generation-iv/guides/hgss-new_script_commands/hgss-new_script_commands" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">Creating New Script Commands in HeartGold Engine | DS Pokémon Hacking</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://ds-pokemon-hacking.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://ds-pokemon-hacking.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://ds-pokemon-hacking.github.io/docs/generation-iv/guides/hgss-new_script_commands/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Creating New Script Commands in HeartGold Engine | DS Pokémon Hacking"><meta data-rh="true" name="description" content="Author: Senate"><meta data-rh="true" property="og:description" content="Author: Senate"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://ds-pokemon-hacking.github.io/docs/generation-iv/guides/hgss-new_script_commands/"><link data-rh="true" rel="alternate" href="https://ds-pokemon-hacking.github.io/docs/generation-iv/guides/hgss-new_script_commands/" hreflang="en"><link data-rh="true" rel="alternate" href="https://ds-pokemon-hacking.github.io/docs/generation-iv/guides/hgss-new_script_commands/" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Guides","item":"https://ds-pokemon-hacking.github.io/docs/category/guides"},{"@type":"ListItem","position":2,"name":"Creating New Script Commands in HeartGold Engine","item":"https://ds-pokemon-hacking.github.io/docs/generation-iv/guides/hgss-new_script_commands/"}]}</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.c8c8a929.css">
<script src="/assets/js/runtime~main.7f4f7ac9.js" defer="defer"></script>
<script src="/assets/js/main.041c4eba.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/kodsh.png" alt="DS Pokémon Hacking Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/kodsh.png" alt="DS Pokémon Hacking Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">DS Pokémon Hacking</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/category/guides">Generation IV</a><a class="navbar__item navbar__link" href="/docs/category/guides-1">Generation V</a><a class="navbar__item navbar__link" href="/docs/category/guides-2">Universal</a><a class="navbar__item navbar__link" href="/contributing">Contributing</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/ds-pokemon-hacking/ds-pokemon-hacking.github.io" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/docs/category/guides">Guides</a><button aria-label="Collapse sidebar category &#x27;Guides&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/generation-iv/guides/hgss-code_injection/">Code Injection</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/generation-iv/guides/hgss-new_overworlds/">Adding New Overworlds in HeartGold Engine</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/generation-iv/guides/hgss-new_script_commands/">Creating New Script Commands in HeartGold Engine</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/generation-iv/guides/hgss-town_map/">Editing the Town Map</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/generation-iv/guides/ncer_sprite_editing/">Cell Editing for Sprites</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/generation-iv/guides/overworld_sprites/">Overworld Sprite Replacement Guide</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/generation-iv/guides/pt-reusable_repel/">Reusable Repel</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/generation-iv/guides/pt-trainer_code_expansion/">Optimizing and Expanding Functionality for Trainer Pokemon</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/generation-iv/guides/pt-type_expansion/">Type Expansion</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/generation-iv/guides/pt_hgss-hp_bar_speed/">Changing the HP bar Speed</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/generation-iv/guides/pt_hgss-pokemarts/">Adding New Poké Marts</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/generation-iv/guides/pt_hgss-reusabletms/">Enabling Reusable TMs</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/generation-iv/guides/pt_hgss-script_weather/">Setting the Weather From a Script</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/resources">Resources</a><button aria-label="Expand sidebar category &#x27;Resources&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_z5aJ"><div class="docItemContainer_c0TR"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/docs/category/guides"><span>Guides</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Creating New Script Commands in HeartGold Engine</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_bxCs"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-footer-tags-row row margin-bottom--sm"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/docs/tags/guide-heart-gold">Guide (HeartGold)</a></li><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/docs/tags/guide-heart-gold-engine">Guide (HeartGold Engine)</a></li></ul></div></div><div class="theme-doc-markdown markdown"><header><h1>Creating New Script Commands in HeartGold Engine</h1></header>
<blockquote>
<p>Author: Senate</p>
</blockquote>
<p>This guide will help you to create new script commands in HeartGold Engine (HGE). Because there are many, many script commands, it is infeasible to repoint the table
and pointers for all the original commands. However, we can essentially hijack a dummy, unused command and edit its pointer to point to our new code. The dummy command
we will edit in this guide is called DummyTextTrap (0xD0) in DSPRE. It has two parameters: a u8 (integers between 0 and 255) and a Flex (u16 (integers between 0 and 65535) or a variable value, depending on the value that is passed into it).</p>
<hr>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="table-of-contents">Table of Contents<a href="#table-of-contents" class="hash-link" aria-label="Direct link to Table of Contents" title="Direct link to Table of Contents">​</a></h2>
<ul>
<li><a href="#acknowledgements">Acknowledgements</a></li>
<li><a href="#prerequisites">Prerequisites</a></li>
<li><a href="#part-1---repointing-dummytexttrap">Part 1 - Repointing DummyTextTrap</a></li>
<li><a href="#part-2---making-your-new-script-commands">Part 2 - Making Your New Script Commands</a></li>
<li><a href="#part-3---an-example-script-command-in-english-hg">Part 3 - An Example Script Command (in English HG)</a></li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="acknowledgements">Acknowledgements<a href="#acknowledgements" class="hash-link" aria-label="Direct link to Acknowledgements" title="Direct link to Acknowledgements">​</a></h2>
<p>BluRose: All the help in teaching me this!
AdAstra: Providing the locations of the HGSS script command table!</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="prerequisites">Prerequisites<a href="#prerequisites" class="hash-link" aria-label="Direct link to Prerequisites" title="Direct link to Prerequisites">​</a></h2>
<ul>
<li>Comfortability with C code</li>
<li>Knowledge of the hexadecimal system</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="part-1---repointing-dummytexttrap">Part 1 - Repointing DummyTextTrap<a href="#part-1---repointing-dummytexttrap" class="hash-link" aria-label="Direct link to Part 1 - Repointing DummyTextTrap" title="Direct link to Part 1 - Repointing DummyTextTrap">​</a></h2>
<p>The table for HG script commands&#x27; pointers is located at the following offsets in a decompressed arm9:</p>
<p><strong>JAP</strong>: 0xFA4B0</p>
<p><strong>ITA</strong>: 0xFAC78</p>
<p><strong>DEU</strong>: 0xFACB4</p>
<p><strong>FRA</strong>: 0xFACE4</p>
<p><strong>SPA</strong>: 0xFACE8</p>
<p><strong>ENG</strong>: 0xFAD00</p>
<p>To find the location of the pointer to DummyTextTrap in your game, use the following equation: (0xD0 * 4) + BASE_ADDRESS.</p>
<p>Once you have found your location, which for the purposes of this guide will be with the English version, aka 0xFB040, it&#x27;s time to tell HGE to repoint DummyTextTrap&#x27;s pointer to your own.</p>
<p>Open up <code>routinepointers</code>, which is at the base of your HGE folder, and add the following:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain"># New Script Commands, ID 0xD0</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">arm9 ScrCmd_master_new_script_command 080FB040</span><br></span></code></pre></div></div>
<p>If you are using a game of another language, take your location and add 0x08000000 to it -- notice how the number I am using is just my location with 080 at the front This <code>08</code> at the front of the address means it&#x27;s the absolute address within the arm9.</p>
<p>This instruction tells the compiler to enter the arm9 and change DummyTextTrap&#x27;s pointer at 0xFB040 to point to whatever address <code>ScrCmd_master_new_script_command</code> is at in the final compiled rom.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="part-2---making-your-new-script-commands">Part 2 - Making Your New Script Commands<a href="#part-2---making-your-new-script-commands" class="hash-link" aria-label="Direct link to Part 2 - Making Your New Script Commands" title="Direct link to Part 2 - Making Your New Script Commands">​</a></h2>
<p>Now that you have repointed DummyTextTrap to point to <code>ScrCmd_master_new_script_command</code>, you can start making your commands.</p>
<p>Create a <code>.c</code> file in &quot;../src&quot; called &quot;scripts.c&quot;.</p>
<p>In this, you should add the following at the top:</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">include</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property string" style="color:#e3116c">&quot;../include/types.h&quot;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token macro property directive-hash" style="color:#36acaa">#</span><span class="token macro property directive keyword" style="color:#00009f">include</span><span class="token macro property" style="color:#36acaa"> </span><span class="token macro property string" style="color:#e3116c">&quot;../include/script.h&quot;</span><br></span></code></pre></div></div>
<p>This will cause the two files, types.h and script.h, to be included in your file upon compiling, and are necessary for many common functions that you will use in your script commands.</p>
<p>After those include statements, include the following:</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token comment" style="color:#999988;font-style:italic">// script command 0xD0, DummyTextTrap/scrcmd_208</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">u32 </span><span class="token function" style="color:#d73a49">ScrCmd_master_new_script_command</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">SCRIPTCONTEXT </span><span class="token operator" style="color:#393A34">*</span><span class="token plain">ctx</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    u32 sw </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">ScriptReadByte</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ctx</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    u32 arg0 </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token function" style="color:#d73a49">ScriptReadHalfword</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">ctx</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">switch</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">sw</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">{</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token keyword" style="color:#00009f">case</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain"></span><span class="token punctuation" style="color:#393A34">}</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p>This has now established the <code>ScrCmd_master_new_script_command</code> function. Because DummyTextTrap&#x27;s parameters are a u8 and a Flex as discussed before, we tell the compiler to recognize the first parameter as a byte (hence ScriptReadByte) and a halfword (aka 2 bytes; hence ScriptReadHalfword).</p>
<p>With this, there is a switch statement to give you as many cases as you need. The way this works is that if you type <code>DummyTextTrap 0 0</code> in DSPRE, it will now point to <code>ScrCmd_master_new_script_command</code> where it will parse the first 0 as telling it to start the code within <code>case 0</code>, and the second parameter can be made into whatever you want as <code>arg0</code>. In the above code, we have not defined anything for case 0 -- that&#x27;s where you come in! Write your code under case 0, then move on to case 1, 2, 3, etc.</p>
<p>In the next section, I will give you an example of a script command we have in Legacy.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="part-3---an-example-script-command-in-english-hg">Part 3 - An Example Script Command (in English HG)<a href="#part-3---an-example-script-command-in-english-hg" class="hash-link" aria-label="Direct link to Part 3 - An Example Script Command (in English HG)" title="Direct link to Part 3 - An Example Script Command (in English HG)">​</a></h2>
<p>In case 0, I have the following code:</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">case</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// shop 0 expansion</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">u32 </span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0x0210FA3C</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">u32</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain">NewMarts</span><span class="token punctuation" style="color:#393A34">[</span><span class="token plain">arg0</span><span class="token punctuation" style="color:#393A34">]</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">break</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p>What this does is that it takes the pointer at address <code>0x0210FA3C</code> in the arm9, which points to the shops used by the <code>SpMartScreen 0</code> command, and changes it to point to the new array I made called <code>NewMarts</code>, with entry number <code>arg0</code>.</p>
<p>So, if I typed <code>DummyTextTrap 0 3</code> in DSPRE, it would cause <code>SpMartScreen 0</code> to now point to entry 3 in my array called <code>NewMarts</code>.</p>
<p>Now, you may be thinking &quot;wont this screw up the vanilla shop 0 in <code>SpMartScreen</code>?&quot; Yes, you would be correct! This is why I also have a command as case 1 to address it:</p>
<div class="language-c codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-c codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token keyword" style="color:#00009f">case</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">1</span><span class="token operator" style="color:#393A34">:</span><span class="token plain"> </span><span class="token comment" style="color:#999988;font-style:italic">// revert shop 0</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">(</span><span class="token plain">u32 </span><span class="token operator" style="color:#393A34">*</span><span class="token punctuation" style="color:#393A34">)</span><span class="token punctuation" style="color:#393A34">(</span><span class="token number" style="color:#36acaa">0x0210FA3C</span><span class="token punctuation" style="color:#393A34">)</span><span class="token plain"> </span><span class="token operator" style="color:#393A34">=</span><span class="token plain"> </span><span class="token number" style="color:#36acaa">0x020FBA54</span><span class="token punctuation" style="color:#393A34">;</span><span class="token plain"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        </span><span class="token keyword" style="color:#00009f">break</span><span class="token punctuation" style="color:#393A34">;</span><br></span></code></pre></div></div>
<p>This will restore the pointer for <code>SpMartScreen 0</code> to its original value (in ENG HG) -- I use this command after the player has finished with the shop to restore shop 0.</p>
<p>To demonstrate <code>NewMarts</code>, here is a picture:</p>
<p><img decoding="async" loading="lazy" src="data:image/png;base64,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" width="621" height="201" class="img_ev3q"></p>
<p>Here I have created an array of items (for demo purposes -- no Master Balls and Rare Candies that easily for Legacy gamers), in which I can freely expand to add more entries for multiple shops.</p>
<p>I would be able to use this shop if I type <code>DummyTextTrap 0 0</code> in DSPRE because it would activate case 0 to update the pointer for <code>SpMartScreen 0</code> to point to entry 0 in my array <code>NewMarts</code>. If you feel inclined to use this method for new shops, don&#x27;t forget to add <code>extern u16 ALIGN4 NewMarts[][16];</code> at the top of your <code>scripts.c</code> file.</p>
<p>That&#x27;s it! You have now given yourself a way to add new script commands. If you have any questions, please ask me in the <a href="https://discord.gg/YBtdN3aXfv" target="_blank" rel="noopener noreferrer">DSMC server</a>!</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/ds-pokemon-hacking/ds-pokemon-hacking.github.io/docs/generation-iv/guides/hgss-new_script_commands/hgss-new_script_commands.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_VsjB"></div></div></footer></article><nav class="pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/generation-iv/guides/hgss-new_overworlds/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Adding New Overworlds in HeartGold Engine</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/generation-iv/guides/hgss-town_map/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Editing the Town Map</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#table-of-contents" class="table-of-contents__link toc-highlight">Table of Contents</a></li><li><a href="#acknowledgements" class="table-of-contents__link toc-highlight">Acknowledgements</a></li><li><a href="#prerequisites" class="table-of-contents__link toc-highlight">Prerequisites</a></li><li><a href="#part-1---repointing-dummytexttrap" class="table-of-contents__link toc-highlight">Part 1 - Repointing DummyTextTrap</a></li><li><a href="#part-2---making-your-new-script-commands" class="table-of-contents__link toc-highlight">Part 2 - Making Your New Script Commands</a></li><li><a href="#part-3---an-example-script-command-in-english-hg" class="table-of-contents__link toc-highlight">Part 3 - An Example Script Command (in English HG)</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 DS Pokémon Hacking. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>