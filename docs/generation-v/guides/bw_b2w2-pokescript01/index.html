<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-generation-v/guides/bw_b2w2-pokescript01/bw_b2w2-pokescript01" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">Hands-on with PokéScript: Our First Script | DS Pokémon Hacking</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://ds-pokemon-hacking.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://ds-pokemon-hacking.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://ds-pokemon-hacking.github.io/docs/generation-v/guides/bw_b2w2-pokescript01/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Hands-on with PokéScript: Our First Script | DS Pokémon Hacking"><meta data-rh="true" name="description" content="Author(s): Brom"><meta data-rh="true" property="og:description" content="Author(s): Brom"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://ds-pokemon-hacking.github.io/docs/generation-v/guides/bw_b2w2-pokescript01/"><link data-rh="true" rel="alternate" href="https://ds-pokemon-hacking.github.io/docs/generation-v/guides/bw_b2w2-pokescript01/" hreflang="en"><link data-rh="true" rel="alternate" href="https://ds-pokemon-hacking.github.io/docs/generation-v/guides/bw_b2w2-pokescript01/" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Guides","item":"https://ds-pokemon-hacking.github.io/docs/category/guides-1"},{"@type":"ListItem","position":2,"name":"Hands-on with PokéScript: Our First Script","item":"https://ds-pokemon-hacking.github.io/docs/generation-v/guides/bw_b2w2-pokescript01/"}]}</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.65e503cb.css">
<script src="/assets/js/runtime~main.a497823c.js" defer="defer"></script>
<script src="/assets/js/main.041c4eba.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/kodsh.png" alt="DS Pokémon Hacking Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/kodsh.png" alt="DS Pokémon Hacking Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">DS Pokémon Hacking</b></a><a class="navbar__item navbar__link" href="/docs/category/guides">Generation IV</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/category/guides-1">Generation V</a><a class="navbar__item navbar__link" href="/docs/category/guides-2">Universal</a><a class="navbar__item navbar__link" href="/contributing">Contributing</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/ds-pokemon-hacking/ds-pokemon-hacking.github.io" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/docs/category/guides-1">Guides</a><button aria-label="Collapse sidebar category &#x27;Guides&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/generation-v/guides/b2w2-code_injection_set_up/">Code Injection set up</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/generation-v/guides/b2w2-fairy/">Fairy Type Implementation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/generation-v/guides/bw_b2w2-code_injection/">Code Injection (Generation V)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/generation-v/guides/bw_b2w2-map_insertion/">Map Insertion (Generation V)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/generation-v/guides/bw_b2w2-pokescript01/">Hands-on with PokéScript: Our First Script</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/generation-v/guides/bw_b2w2-pokescript02/">Hands-on with PokéScript: Yes, No, Maybe a Battle So</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/generation-v/guides/bw_b2w2-using_ctrmap/">Using CTRMap</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/resources-1">Resources</a><button aria-label="Expand sidebar category &#x27;Resources&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_z5aJ"><div class="docItemContainer_c0TR"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/docs/category/guides-1"><span>Guides</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Hands-on with PokéScript: Our First Script</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_bxCs"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-footer-tags-row row margin-bottom--sm"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/docs/tags/guide-black">Guide (Black)</a></li><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/docs/tags/guide-white">Guide (White)</a></li><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/docs/tags/guide-black-2">Guide (Black 2)</a></li><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/docs/tags/guide-white-2">Guide (White 2)</a></li><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/docs/tags/hands-on-with-poke-script">Hands-on with PokéScript</a></li><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/docs/tags/hands-on-with">Hands-on with...</a></li></ul></div></div><div class="theme-doc-markdown markdown"><header><h1>Hands-on with PokéScript:<br>Our First Script</h1></header>
<blockquote>
<p>Author(s): <a href="https://github.com/brombrombromley" target="_blank" rel="noopener noreferrer">Brom</a></p>
</blockquote>
<p>What do a static encounter with a Legendary Pokémon, a talk with a Gym Leader, and a guy talking about technology have in common? They all make use of scripting! With this tutorial series, we will be learning how to script using PokéScript, a language made specifically for scripting in CTRMap by <a href="https://github.com/HelloOO7" target="_blank" rel="noopener noreferrer">Hello007</a> and <a href="https://github.com/PlatinumMaster" target="_blank" rel="noopener noreferrer">PlatinumMaster</a>. Getting started with scripting may be a little scary at first, but with some guidance, it can actually start to be pretty fun. By the end of this guide, you will be able to have a basic NPC that you can talk to like in this video here:</p>
<video controls=""><source src="/video/generation-v/guides/bw_b2w2-pokescript01/script_demo01.mp4" type="video/mp4"></video>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="loading-into-our-map">Loading into our map<a href="#loading-into-our-map" class="hash-link" aria-label="Direct link to Loading into our map" title="Direct link to Loading into our map">​</a></h2>
<p>First, let&#x27;s load into Aspertia City by going into the Zone Loader tab
at the top and going to Zone 427. Now that we&#x27;ve done that, let&#x27;s return
to the World Editor tab.</p>
<p><img decoding="async" loading="lazy" alt="Player preview in Aspertia City" src="/assets/images/aspertia01-68259d722246a1f3eec9f00d5194bc33.png" width="3072" height="1778" class="img_ev3q"></p>
<p>Looks pretty neat, right? But, we can get a better view to help us
place ourselves a new NPC. First press the F5 button to exit the
simulated player view and then press F3 to switch to the perspective
camera. Now you can see the whole map!</p>
<p><img decoding="async" loading="lazy" alt="Mission Control Mode of CTRMap in Aspertia City" src="/assets/images/aspertia02-18b13348c30ade6a2d270020bc04721f.png" width="3072" height="1778" class="img_ev3q"></p>
<p>To move around, you can use the WASD keys and Q and E to move up and down
vertically respectively.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="making-our-new-npc">Making our new NPC<a href="#making-our-new-npc" class="hash-link" aria-label="Direct link to Making our new NPC" title="Direct link to Making our new NPC">​</a></h2>
<p>To place an NPC, click the little person icon at the top to start
using the NPC tool. With this, you can add, remove, and edit info
of NPCs around a map. You can see all of this information on the
rightside panel.</p>
<p><img decoding="async" loading="lazy" alt="NPC Editor Panel" src="/assets/images/aspertia03-5380207b82d84f0a72fd480dad03b8d9.png" width="3072" height="1778" class="img_ev3q"></p>
<p>In the panel we just opened, click the + button up at the top to
create a new NPC. You can click and drag the NPC to place it where
you&#x27;d like on the map, but you can also type in the coordinates
manually in the location box.</p>
<p>For now, let&#x27;s put an NPC at <code>(x: 50, y: 16, z: 763)</code> and having the NPC
face to the right by setting the orientation to “East.” With the “Model No.” field, we can change the graphic used by our NPC as well. Feel free to set it to whatever you&#x27;d like!</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>The Y coordinate for NPCs actually uses a smaller unit than
your standard grid tile! If you look at the &quot;World location&quot;
below the boxes to edit the NPC&#x27;s location, you can see the
location of the NPC with the world&#x27;s sub units. Each standard
grid tile is made up of 16 of these subunits, so if you want
to move an NPC up to be a grid unit high, you gotta set Y to 16!</p></div></div>
<p>Let&#x27;s build ourselves a new ROM now by going to File &gt; Export ROM
(or pressing Ctrl + E) and head to Aspertia City!</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>If you add an NPC to the map that is loaded when you resume the
game, you will have to re-enter it for them to show up! This
also applies for when you remove an NPC.</p></div></div>
<p>If you did everything right, you&#x27;ll probably see an NPC facing
the pond towards your house! Try going up to them and trying
to talk to them.</p>
<p><img decoding="async" loading="lazy" alt="The NPC we created won&amp;#39;t look in our direction!" src="/assets/images/in_game01-c66462f71d535c6eb35fba27c9f46e51.png" width="768" height="577" class="img_ev3q"></p>
<p>...It seems like our new NPC is ignoring us, but fret not! We still
haven&#x27;t given the NPC a script! Let&#x27;s change that!</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="making-our-new-script">Making our new script<a href="#making-our-new-script" class="hash-link" aria-label="Direct link to Making our new script" title="Direct link to Making our new script">​</a></h2>
<p>Let&#x27;s go over to the Event Editor panel up top then click Open in IDE.
Make sure the &quot;Attempt to decompile&quot; option is checked. This should
open up the PokéScript IDE which will be our primary tool for scripting.
After you open the script file for Aspertia City, you should see all the
scripts going on in Aspertia City. There sure are a lot! Don&#x27;t get too
bogged down, though! Let&#x27;s scroll down until we find line 1120 on the
left side of the code editor. This should be right after the script
function called &quot;main_33.&quot; This is where we will be writing our new
script function, so make sure to give it some breathing room by pressing
enter a few times to add some lines around where we&#x27;re putting it.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>You may notice there&#x27;s a lot of weird stuff going on with the names of
some of the functions (like the function called <code>sub_03eb()</code>) or the random
labels like <code>LABEL_0997</code>. This is because any PokéScript we write gets
boiled down into something the game can actually read. The reason we had to
check the &quot;Attempt to decompile&quot; box is because CTRMap was turning what the
game already had into PokéScript for us! But, things like the naming or
comments don&#x27;t exist in what the game reads, so instead we get those
random-seeming names. Those names come from their actual location in
the script file since they don&#x27;t have a real name!</p></div></div>
<p>For our new script, let&#x27;s call the function for it <code>main_34()</code> and we&#x27;ll
make a code block like this:</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public static void main_34() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	Actor.PauseAll();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	Sound.SEPlay(1351);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	Actor.FacePlayer();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	Runtime.FinishSubEvents();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	Actor.UnpauseAll();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<p>Save the script file then go back to the main CTRMap window and return to the
World Editor tab. Let&#x27;s assign our new NPC by the pond script 34 with the NPC
tool and then export a new ROM.</p>
<p><img decoding="async" loading="lazy" alt="Our NPC turned around to face us!" src="/assets/images/in_game02-5da8c7eef757ed48c9922a689c1b3fd8.png" width="768" height="577" class="img_ev3q"></p>
<p>In game, try talking to our NPC now. It looks like our NPC is noticing us!
But it doesn&#x27;t seem like they&#x27;re able to talk, though... Let&#x27;s break down
what we wrote first then we&#x27;ll try to get them to speak.</p>
<p>First let&#x27;s look at the top of our new function. Whenever you want to
make a function that can be used as a script, you always need
<code>public static void</code> and then a name for the function. The function
can be named anything that you&#x27;d like, but it&#x27;s important
to keep track of what script ID it will be.</p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>You may notice how the functions in the script file are labeled <code>main_1()</code>,
<code>main_2()</code>, and so on. This lines up with script ID 1, script ID 2, and so on.
You don&#x27;t need to name your functions this way, but it&#x27;s good to label the
first public function as <code>main_1()</code> and the second public function as <code>main_2()</code>
or making a comment of the ID that matches with the function. If you make
the game use script ID 2 for an NPC, it doesn&#x27;t matter if it&#x27;s named <code>main_2()</code>
or <code>RunMyReallyCoolScript()</code>, as long as it is the second
<code>public static void</code> function in the script file, that&#x27;s what will be used.</p></div></div>
<p>Next, we&#x27;ll look at <code>Actor.PauseAll()</code> and <code>Actor.UnpauseAll()</code>. As the name
implies, it makes all the NPCs on the map stop moving and resume moving respectively.
For most events, you&#x27;ll probably want these so the NPC you&#x27;re talking to doesn&#x27;t
just walk away from you while you&#x27;re talking to them accidentally.</p>
<p>After this, we have <code>Sound.SEPlay(1351)</code>. With <code>Sound.SEPlay()</code> we can play any
sound effect that we want! In this case, sound effect 1351 is SE_MESSAGE.</p>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>tip</div><div class="admonitionContent_BuS1"><p>You can look at the other sound effects <a href="https://docs.google.com/spreadsheets/d/17YDObYDZWu4hioMmH4tQqln4a4Dzz_vXj5jfKWwvUDI/edit?usp=drivesdk" target="_blank" rel="noopener noreferrer">here</a> or even better,
a tool like <a href="https://github.com/Lonk12/NitroStudio2Deluxe/releases/download/v0.2.2.2/Nitro.Studio.2.Deluxe.Zipped.zip" target="_blank" rel="noopener noreferrer">Nitro Studio 2 Deluxe</a> can be used if you want to hear the
sound effects, too!</p></div></div>
<p>And then, with <code>Actor.FacePlayer()</code>, if you talked to the NPC by pressing A
on them, then they&#x27;ll face the direction of the player automatically!</p>
<p>Lastly, we have <code>Runtime.FinishSubEvents()</code>. Don&#x27;t worry too hard about this one.
This one just cleans up after our script once we&#x27;re done with it.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="giving-our-npc-something-to-say">Giving our NPC something to say<a href="#giving-our-npc-something-to-say" class="hash-link" aria-label="Direct link to Giving our NPC something to say" title="Direct link to Giving our NPC something to say">​</a></h2>
<p>Let&#x27;s go back to the main CTRMap window again and go to the Event Editor tab.
With the script text, scroll all the way to the bottom and right click on the
last dialogue line and click &quot;Add line after.&quot; Let&#x27;s give our NPC something
to say now.</p>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>warning</div><div class="admonitionContent_BuS1"><p>The text you write doesn&#x27;t wrap automatically. If it&#x27;s too long, it&#x27;ll
get cut off! Consider using something like <a href="https://docs.google.com/spreadsheets/d/1qkUqyu8AP0blNr8YGiRRJxPxl3MRijj5qXKA2SQxiNI/edit?usp=drivesdk" target="_blank" rel="noopener noreferrer">this</a> to preview how long
your text will look in the text box to prevent it from being cut off.</p><div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>With the linked spreadsheet template, it gives a conservative estimate
of what your text will look like, so sometimes more may be able to fit
if you are using a thin letter like i or lowercase l.</p></div></div></div></div>
<p>Give your NPC something to say! Have some fun!</p>
<p>Once you&#x27;re done writing some dialogue, let&#x27;s go back to our script function,
<code>main_34()</code>. After the command that makes the NPC face the player, let&#x27;s
make them speak. Assuming your new dialogue message is message 131, we&#x27;ll add</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Message.Actor(1024, 131, 0, 0);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Input.LastKeyWait();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Message.CloseAll();</span><br></span></code></pre></div></div>
<p>so then your function should look like this:</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public static void main_34() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	Actor.PauseAll();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	Sound.SEPlay(1351);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	Actor.FacePlayer();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	Message.Actor(1024, 131, 0, 0);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	Input.LastKeyWait();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	Message.CloseAll();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	Runtime.FinishSubEvents();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">	Actor.UnpauseAll();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<p>Again, let&#x27;s export another ROM and look at what we see.</p>
<p><img decoding="async" loading="lazy" alt="Our NPC speaks to us now!" src="/assets/images/in_game03-51f50e8fc1189d5b1d0cc23b294e9a2c.png" width="768" height="577" class="img_ev3q"></p>
<p>Wow, look! They can talk now!</p>
<p>To break this down, let&#x27;s look at this bit by bit, too.</p>
<ul>
<li>
<p><code>Message.Actor()</code> makes a textbox that comes from an NPC you directly had
to interact with to start the script. If you want it to come from someone
else, you&#x27;ll have to use <code>Message.ActorEx()</code>. Using the non-ex version is
handy though because you don&#x27;t need to specify who&#x27;s talking, but in
some cases you might need to.</p>
</li>
<li>
<p>The first argument of <code>Message.Actor()</code> is the container of messages that
the dialogue box will use. But, when you use 1024 as the container, the
game knows just to use the default one for scripts on the map (which you
can see in the Zone Loader tab.) Generally, you can just keep this at
1024 without worrying too much about it.</p>
</li>
<li>
<p>The second argument of <code>Message.Actor()</code> is the message that will be used
for the text box. In this case, the message we wrote in message 131
from Aspertia City&#x27;s message container will be shown.</p>
</li>
<li>
<p>The third argument of <code>Message.Actor()</code> is the position of the text box.
Since we selected 0, it will automatically place the text box.
Try comparing talking to your NPC from above them compared to
below them! If we select 1, the text box will always show on
top and if we select 2, the text box will always show on the bottom.</p>
</li>
<li>
<p>The fourth and final argument of <code>Message.Actor()</code> is the message box type.
If you use 0, it&#x27;ll just be the standard talking frame, but if you set
it to 1, it&#x27;ll become spiky. There is a thought bubble box if you select
option 2, but the text box arrow partly breaks it.</p>
</li>
</ul>
<p>Yikes! That&#x27;s a lot of parameters to remember, right? Fret not! There&#x27;s
a document with all the commands in the game right <a href="https://docs.google.com/spreadsheets/d/1zvLQFVdv6kbEgP9TY9yfV6ChK0qsz79E6PvF5lohnGk/edit#gid=0" target="_blank" rel="noopener noreferrer">here</a>!</p>
<p>Anyway, to continue, we have <code>Input.LastKeyWait()</code>. This command paired
with something like <code>Message.CloseAll()</code> are great when you&#x27;re at the
end of a script and you&#x27;re OK with the player immediately walking
away after the NPC is done talking. Without this, if your message
didn&#x27;t have a <code>\c</code> character to show the next message cursor, the
text box would close as soon as the text was done printing! How rude!</p>
<p>Our last new addition is <code>Message.CloseAll()</code>. This closes text boxes
of any type. Right now, we&#x27;ve only seen Actor-type text boxes, but
if you look at the <a href="https://docs.google.com/spreadsheets/d/1zvLQFVdv6kbEgP9TY9yfV6ChK0qsz79E6PvF5lohnGk/edit?usp=sharing" target="_blank" rel="noopener noreferrer">script command doc</a>, you might see other box
types such as the place sign or info boxes. This command closes
these message boxes, too.</p>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>warning</div><div class="admonitionContent_BuS1"><p>You must use a close command every time you use a message command. If you don&#x27;t, the message box can stick on the screen even after the event and potentially make the game perform weird behaviors otherwise.</p></div></div>
<p>Congrats! Now that you&#x27;ve done this, you can make an NPC that
can talk to you! ...What do you mean you want to do more than that?</p>
<p>Well, luckily for you, <a href="/docs/generation-v/guides/bw_b2w2-pokescript02/">there&#x27;s another part</a>! If you need any additional support join the <a href="https://discord.gg/YBtdN3aXfv" target="_blank" rel="noopener noreferrer">DS Modding Community Discord server</a> to get help with scripting and more!</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/ds-pokemon-hacking/ds-pokemon-hacking.github.io/docs/generation-v/guides/bw_b2w2-pokescript01/bw_b2w2-pokescript01.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_VsjB"></div></div></footer></article><nav class="pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/generation-v/guides/bw_b2w2-map_insertion/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Map Insertion (Generation V)</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/generation-v/guides/bw_b2w2-pokescript02/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Hands-on with PokéScript: Yes, No, Maybe a Battle So</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#loading-into-our-map" class="table-of-contents__link toc-highlight">Loading into our map</a></li><li><a href="#making-our-new-npc" class="table-of-contents__link toc-highlight">Making our new NPC</a></li><li><a href="#making-our-new-script" class="table-of-contents__link toc-highlight">Making our new script</a></li><li><a href="#giving-our-npc-something-to-say" class="table-of-contents__link toc-highlight">Giving our NPC something to say</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 DS Pokémon Hacking. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>