<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-generation-v/guides/bw_b2w2-pokescript02/bw_b2w2-pokescript02" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">Hands-on with PokéScript: Yes, No, Maybe a Battle So | DS Pokémon Hacking</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://ds-pokemon-hacking.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://ds-pokemon-hacking.github.io/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://ds-pokemon-hacking.github.io/docs/generation-v/guides/bw_b2w2-pokescript02/"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="Hands-on with PokéScript: Yes, No, Maybe a Battle So | DS Pokémon Hacking"><meta data-rh="true" name="description" content="Author(s): Brom"><meta data-rh="true" property="og:description" content="Author(s): Brom"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://ds-pokemon-hacking.github.io/docs/generation-v/guides/bw_b2w2-pokescript02/"><link data-rh="true" rel="alternate" href="https://ds-pokemon-hacking.github.io/docs/generation-v/guides/bw_b2w2-pokescript02/" hreflang="en"><link data-rh="true" rel="alternate" href="https://ds-pokemon-hacking.github.io/docs/generation-v/guides/bw_b2w2-pokescript02/" hreflang="x-default"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BreadcrumbList","itemListElement":[{"@type":"ListItem","position":1,"name":"Guides","item":"https://ds-pokemon-hacking.github.io/docs/category/guides-1"},{"@type":"ListItem","position":2,"name":"Hands-on with PokéScript: Yes, No, Maybe a Battle So","item":"https://ds-pokemon-hacking.github.io/docs/generation-v/guides/bw_b2w2-pokescript02/"}]}</script><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/katex@0.13.24/dist/katex.min.css" integrity="sha384-odtC+0UGzzFL/6PNoE8rX/SPcQDXBJ+uRepguP4QkPCm2LBxH3FA3y+fKSiJ+AmM" crossorigin="anonymous"><link rel="stylesheet" href="/assets/css/styles.c8c8a929.css">
<script src="/assets/js/runtime~main.7f4f7ac9.js" defer="defer"></script>
<script src="/assets/js/main.041c4eba.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/kodsh.png" alt="DS Pokémon Hacking Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/kodsh.png" alt="DS Pokémon Hacking Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">DS Pokémon Hacking</b></a><a class="navbar__item navbar__link" href="/docs/category/guides">Generation IV</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/docs/category/guides-1">Generation V</a><a class="navbar__item navbar__link" href="/docs/category/guides-2">Universal</a><a class="navbar__item navbar__link" href="/contributing">Contributing</a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a href="https://github.com/ds-pokemon-hacking/ds-pokemon-hacking.github.io" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="system mode" aria-label="Switch between dark and light mode (currently system mode)"><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" aria-hidden="true" class="toggleIcon_g3eP systemToggleIcon_QzmC"><path fill="currentColor" d="m12 21c4.971 0 9-4.029 9-9s-4.029-9-9-9-9 4.029-9 9 4.029 9 9 9zm4.95-13.95c1.313 1.313 2.05 3.093 2.05 4.95s-0.738 3.637-2.05 4.95c-1.313 1.313-3.093 2.05-4.95 2.05v-14c1.857 0 3.637 0.737 4.95 2.05z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/docs/category/guides-1">Guides</a><button aria-label="Collapse sidebar category &#x27;Guides&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/generation-v/guides/b2w2-code_injection_set_up/">Code Injection set up</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/generation-v/guides/b2w2-fairy/">Fairy Type Implementation</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/generation-v/guides/bw_b2w2-code_injection/">Code Injection (Generation V)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/generation-v/guides/bw_b2w2-map_insertion/">Map Insertion (Generation V)</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/generation-v/guides/bw_b2w2-pokescript01/">Hands-on with PokéScript: Our First Script</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/docs/generation-v/guides/bw_b2w2-pokescript02/">Hands-on with PokéScript: Yes, No, Maybe a Battle So</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/docs/generation-v/guides/bw_b2w2-using_ctrmap/">Using CTRMap</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/docs/category/resources-1">Resources</a><button aria-label="Expand sidebar category &#x27;Resources&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_z5aJ"><div class="docItemContainer_c0TR"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li class="breadcrumbs__item"><a class="breadcrumbs__link" href="/docs/category/guides-1"><span>Guides</span></a></li><li class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link">Hands-on with PokéScript: Yes, No, Maybe a Battle So</span></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_bxCs"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-footer-tags-row row margin-bottom--sm"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/docs/tags/guide-black">Guide (Black)</a></li><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/docs/tags/guide-white">Guide (White)</a></li><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/docs/tags/guide-black-2">Guide (Black 2)</a></li><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/docs/tags/guide-white-2">Guide (White 2)</a></li><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/docs/tags/hands-on-with-poke-script">Hands-on with PokéScript</a></li><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/docs/tags/hands-on-with">Hands-on with...</a></li></ul></div></div><div class="theme-doc-markdown markdown"><header><h1>Hands-on with PokéScript:<br>Yes, No, Maybe a Battle So</h1></header>
<blockquote>
<p>Author(s): <a href="https://github.com/brombrombromley" target="_blank" rel="noopener noreferrer">Brom</a></p>
</blockquote>
<p>In the <a href="/docs/generation-v/guides/bw_b2w2-pokescript01/">last part of <em>Hands-on with PokéScript</em></a>, we learned how to get an NPC to speak to us! But, what if we wanted to have an NPC ask us a question? Or, something more exciting, how about if we wanted to have them challenge us to a battle? In this entry of <em>Hands-on with PokéScript</em>, we&#x27;ll be learning how to do just that! By the end of this entry, we&#x27;ll have something that looks like this:</p>
<video controls=""><source src="/video/generation-v/guides/bw_b2w2-pokescript02/battle_demo01.mp4" type="video/mp4"></video>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="setting-up">Setting Up<a href="#setting-up" class="hash-link" aria-label="Direct link to Setting Up" title="Direct link to Setting Up">​</a></h2>
<p>For this entry, there will be a <a href="/assets/files/pokescript02-81667d29e64dffcc106440bd5c6ccf07.sav" target="_blank">save file</a> provided to help with following along. With this save file, it will place you in the lower part of Hugh&#x27;s house in Aspertia City, Zone 429. For this entry, we will be placing a new NPC in the upstairs area, Zone 430. This save file can be imported by most emulators.</p>
<ul>
<li>For MelonDS, this save can be imported using the <code>File &gt; Import savefile</code> option then opening <code>pokescript02.sav</code>.</li>
<li>For DeSmuME, this save can be imported using the <code>File &gt; Import Backup Memory...</code> option then opening <code>pokescript02.sav</code>.</li>
</ul>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>If you remember from the last part, if you don&#x27;t reload a map after adding a new NPC, moving them around, reassigning their script, and things like that, they won&#x27;t appear changed in game. This is the main reason for why the save is in the downstairs area rather than directly in the upstairs area.</p></div></div>
<p>After getting the save file loaded, let&#x27;s get back into our CTRMap project and head to Zone 430 using the Zone Loader. Now that we&#x27;re in Zone 430, let&#x27;s add another NPC just like how we did in the <a href="/docs/generation-v/guides/bw_b2w2-pokescript01/">first part</a> and place it at <code>(x: 12, z: 4)</code> and have it face to the west like so.</p>
<p><img decoding="async" loading="lazy" alt="We have placed our Janitor NPC in front of the fridge in the kitchen" src="/assets/images/in_rival_house01-ee29776bc2883c98ebb17d1c85ead82b.png" width="3072" height="1698" class="img_ev3q"></p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>In this case, I have set the <code>Model No.</code> field to 69 to be a Janitor in order to match the Trainer party we will be using later in this guide.</p></div></div>
<p>Using what we learned in the <a href="/docs/generation-v/guides/bw_b2w2-pokescript01/">last part</a>, let&#x27;s try making an NPC that faces us when we talk to them and asks us if we like Pokémon.</p>
<p><img decoding="async" loading="lazy" alt="Janitor asking us “Do you like Pokémon?”" src="/assets/images/in_rival_house02-9718b774fde9ddc490945f93aec786f6.png" width="768" height="576" class="img_ev3q"></p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>If you want to see a solution of how you might script this, you can see a sample version below.</p><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Sample Solution</summary><div><div class="collapsibleContent_i85q"><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public static void main_5() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  	Actor.PauseAll();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  	Sound.SEPlay(1351);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  	Actor.FacePlayer();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  	Message.Actor(1024, 9, 0, 0);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  	Input.LastKeyWait();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  	Message.CloseAll();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  	Runtime.FinishSubEvents();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  	Actor.UnpauseAll();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span></code></pre></div></div><p>Do keep in mind that you might have to use a different message ID when using <code>Message.Actor()</code> depending on where you put your text at.</p></div></div></details></div></div>
<p>You might notice, though, that we won&#x27;t be able to respond to the question he asks us, so what can we do about that? Let&#x27;s tackle some ways we can let the player respond to questions that we might want NPCs to ask them.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="handling-yesno-responses">Handling Yes/No Responses<a href="#handling-yesno-responses" class="hash-link" aria-label="Direct link to Handling Yes/No Responses" title="Direct link to Handling Yes/No Responses">​</a></h2>
<p>For simple responses to questions asked by NPCs, we can use <code>YesNoWin.Show()</code> to give us a basic box that lets us answer with “YES” or “NO.” You might notice, though, when you try to directly put <code>YesNoWin.Show()</code>, at the bottom of the screen, CTRMap will say <code>Could not resolve method: YesNoWin.Show()</code>. This is because we need to “import” the <code>YesNoWin</code> package.</p>
<p>To fix this, we need to go up to the top of our file and add <code>import event.dialogs.YesNoWin;</code>. For a lot of commands, you will need to import them into your PokéScript file, but luckily, just like the script commands themselves, the package you need to import can also be found in the <a href="https://docs.google.com/spreadsheets/d/1zvLQFVdv6kbEgP9TY9yfV6ChK0qsz79E6PvF5lohnGk/edit?usp=sharing" target="_blank" rel="noopener noreferrer">script command doc</a> in the second to last column. This might be a little difficult to get used to at first, but with time it will gradually become more familiar.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>You might not have noticed it, but even when we use <code>Message.Actor()</code> or <code>Message.CloseAll()</code>, we are actually using functions from <code>event.dialogs.Message</code>. You can see this at the top of the script file where it says <code>import event.dialogs.Message;</code> along with the other “packages  ” that are being imported for this script.</p></div></div>
<p>Now that we can put in Yes/No Windows using <code>YesNoWin.Show()</code>, let&#x27;s replace the <code>Input.LastKeyWait()</code> with <code>YesNoWin.Show()</code> for now. Let&#x27;s take a look at what that does!</p>
<video controls=""><source src="/video/generation-v/guides/bw_b2w2-pokescript02/yesno_demo01.mp4" type="video/mp4"></video>
<p>Hm... Well, the Yes/No Window shows up, but let&#x27;s see how we can get our NPC to say different things depending on if we say yes or no.</p>
<p>For this, we will need to introduce our handy friend, the <code>if</code> block. Basically, whenever we want something to happen only <em>if</em> some specific thing happens, we can use an <code>if</code> block. Generally, <code>if</code> blocks look like this:</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">if (condition) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // The script commands that will</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // run if the special condition</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // happens</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<p>Within <code>if</code> blocks, if something is <code>true</code>, then the code inside will happen, and if the condition is <code>false</code>, then the code inside will be skipped. For example, if we can see:</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">if (2 + 2 == 4) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // The code inside here</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // will always run since</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // unless math changes,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // 2 + 2 will always be 4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">if (2 + 2 == 5) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // This code will never run</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // because it is false to say</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // that 4 equals 5.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<p>This isn&#x27;t the most useful for things that are always true like 2 + 2 being 4 and 2 + 2 not being 5, but for something that could change like if the player says yes or no, using this, we can do exactly what we wanted! Let&#x27;s try making our NPC say something when we select no after we give our NPC another line to say.</p>
<p><img decoding="async" loading="lazy" alt="The janitor is flabbergasted by your response!" src="/assets/images/in_rival_house03-ac9598b34f58172cc00b0e19b4289e87.png" width="768" height="576" class="img_ev3q"></p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public static void main_5() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Actor.PauseAll();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Sound.SEPlay(1351);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Actor.FacePlayer();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Message.Actor(1024, 9, 0, 0);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    boolean isNo = YesNoWin.Show();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (isNo == true) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Message.CloseAll();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Message.Actor(1024, 10, 0, 0);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Input.LastKeyWait();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Message.CloseAll();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Runtime.FinishSubEvents();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Actor.UnpauseAll();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<p>This might look a little scary at first, but let&#x27;s break it down! Let&#x27;s look at the line with our <code>YesNoWin.Show()</code> first:</p>
<ul>
<li><code>boolean isNo</code>: This here is a variable. With a variable, we can store different kinds of values depending on its type. Because our variable <code>isNo</code> is a <code>boolean</code> type, it means we can hold values that are <code>true</code> or <code>false</code>. In this case, if the player says no, then <code>isNo</code> will be <code>true</code> and if the player says yes, then <code>isNo</code> will be <code>false</code>. Once the script is finished and the player can move again, variables we make like this get their contents deleted.</li>
<li><code>YesNoWin.Show()</code>: In addition to showing a Yes/No Window on the screen, it&#x27;ll also let us know if the player said no or not. If we don&#x27;t store it somewhere like in a variable, then it&#x27;s like a guy shouting alone in a forest with no one to hear him.</li>
<li><code>=</code>: When we have a single equal sign, instead of seeing if two things are equal to each other, it&#x27;ll put whatever came from the right into the variable on the left. In this case, we take whatever <code>YesNoWin.Show()</code> said and give it to <code>isNo</code>.</li>
</ul>
<p>How about we make our NPC do something else if we don&#x27;t say no? This is where the <code>if</code> block&#x27;s handy associate comes in, the <code>else</code> block. Whenever you want something to run if it&#x27;s not the special condition that the <code>if</code> block is checking for, then the <code>else</code> block will run. We can use it like so:</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">if (isNo) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Message.CloseAll();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Message.Actor(1024, 10, 0, 0);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Input.LastKeyWait();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">} else {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Message.CloseAll();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Message.Actor(1024, 11, 0, 0);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Input.LastKeyWait();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<p>Now, when the player says no, the NPC will say line 10, but if not, then the NPC will say line 11 instead! We&#x27;ll be using these “conditionals” more as we continue working on this script.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>Similar to how <code>YesNoWin.Show()</code> can give us a <code>boolean</code> value, every function in PokéScript has a return type! One of the things we handwaved before earlier is the <code>void</code> whenever we make a new script. This is because when a function returns <code>void</code>; just like the real void, it returns nothing.</p></div></div>
<p>If you&#x27;ve gotten to this portion, pat yourself on the back! Getting the tools of making a script, importing packages, and using basic conditionals is much of what you will need when scripting! By the end of this section, you should have something like this:</p>
<video controls=""><source src="/video/generation-v/guides/bw_b2w2-pokescript02/yesno_demo02.mp4" type="video/mp4"></video>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="handling-multiple-choice-responses">Handling Multiple Choice Responses<a href="#handling-multiple-choice-responses" class="hash-link" aria-label="Direct link to Handling Multiple Choice Responses" title="Direct link to Handling Multiple Choice Responses">​</a></h2>
<p>How about if we wanted to answer something more complex than yes or no? If we let&#x27;s say wanted to have a list of different Pokémon to choose from, then using a list from the <code>ListMenu</code> package is right what we need.</p>
<p>Similar to how we needed to import the <code>YesNoWin</code> package for us to be able to show a Yes/No Window, we&#x27;ll need to import the <code>ListMenu</code> package like so:</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">import event.dialogs.ListMenu;</span><br></span></code></pre></div></div>
<p>Let&#x27;s make our NPC which Pokémon the player likes the most out of five Pokémon. In the Event Editor tab, let&#x27;s add five new lines at the end and put in the names of five different Pokémon.</p>
<p>After we add the text that is supposed to show up in our List Menu, we can create a List Menu with 5 elements like this:</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">int result;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ListMenu.InitRightAnchor(31, 1, 0, 0, result);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ListMenu.AddItem(12, 0xFFFF, 273);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ListMenu.AddItem(13, 0xFFFF, 270);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ListMenu.AddItem(14, 0xFFFF, 129);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ListMenu.AddItem(15, 0xFFFF, 54);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ListMenu.AddItem(16, 0xFFFF, 618);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ListMenu.ShowDialog();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Message.CloseAll();</span><br></span></code></pre></div></div>
<p>Let&#x27;s break this down again bit by bit again, starting with the first line.</p>
<ul>
<li>
<p><code>int result</code>: This is another kind of variable. If you remember how our <code>boolean</code> variable <code>isNo</code> could hold <code>true</code> or <code>false</code> values, our <code>int</code> (integer) variable called <code>result</code> can hold numbers. In this case, this variable will be the <em>result</em> from the item in the List Menu that we selected. After the script finishes, though, this is reset, so it won&#x27;t remember what we picked last time unless we save it some other way. We&#x27;ll look at how we can store things like this even after the script finishes in another lesson.</p>
</li>
<li>
<p><code>ListMenu.InitRightAnchor()</code>: This here is what we need to say we would like to make a ListMenu. Here, we generally want to have the right side of the List Menu to be our reference point for positioning it. This is why we use the <code>InitRightAnchor()</code> command. If we wanted to use the left side as our reference point, we could use <code>InitLeftAnchor()</code> instead. Let&#x27;s look at each of the parameters for these functions:</p>
<ul>
<li>The first parameter: This lets us set how far to the right the menu should be positioned. Generally, if you want it to appear on the right edge of the screen when using <code>InitRightAnchor()</code>, setting it to <code>31</code> is good.</li>
<li>The second parameter: This lets us set how far down the menu should be positioned. Generally, if you want it to appear on the top edge of the screen, setting it to <code>1</code> is good.</li>
<li>The third parameter: This is the List Menu item that will be selected by default once we show the List Menu.</li>
<li>The fourth parameter: This lets us set if we can close out from this menu using the B Button or not. If we set this to <code>0</code>, then the player must select something, but if we do want the player to be able to cancel by pressing the B Button, we can set this to <code>1</code>.</li>
<li>The fifth parameter: This is what variable will be used to store what the player selected from the list.</li>
</ul>
<p>Just like last time with <code>Message.Actor()</code>, you can find the parameters for a command in the <a href="https://docs.google.com/spreadsheets/d/1zvLQFVdv6kbEgP9TY9yfV6ChK0qsz79E6PvF5lohnGk/edit?usp=sharing" target="_blank" rel="noopener noreferrer">script command doc</a>, so don&#x27;t worry about trying to remember every parameter here!</p>
</li>
<li>
<p><code>ListMenu.AddItem()</code>: Before we put our List Menu on the screen, we need to add our items to it. Think of it like how a café needs to write everything on its menu board before it can put it out for the day. Let&#x27;s go through each of the parameters:</p>
<ul>
<li>The first parameter: This is the message ID that will be used for this entry. In this case, I added messages 12-16 as entries for my menu items.</li>
<li>The second parameter: If we used <code>Message.System()</code> instead of <code>Message.Actor()</code> to show our text, we can have additional explanation text for each List Menu item. But, since we&#x27;re using <code>Message.Actor()</code> here, we can&#x27;t use this feature. If you don&#x27;t want to use any explanatory text, you can set this argument to <code>0xFFFF</code>.</li>
<li>The third parameter: This is the value that our <code>result</code> variable will be set to if we select this option. Here, I made it so that <code>result</code> will get the Pokédex number of the Pokémon we select.</li>
</ul>
</li>
<li>
<p><code>ListMenu.ShowDialog()</code>: Now that we&#x27;ve said that we wanted to make a List Menu then added items to it, we can call <code>ListMenu.ShowDialog()</code> to show the List Menu on the screen.</p>
</li>
<li>
<p><code>Message.CloseAll()</code>: After the player selects an item from the List Menu, we want it to close.</p>
</li>
</ul>
<p><img decoding="async" loading="lazy" alt="We now have a List Menu on the screen!" src="/assets/images/in_rival_house04-c011c7e85ad8aa00e5080ac59e19d2bd.png" width="768" height="576" class="img_ev3q"></p>
<p>Amazing! Now we have a List Menu on the screen! But, just like last time with the Yes/No Windows, after we select an option, it doesn&#x27;t to anything. Let&#x27;s doing something about it!</p>
<p>List Menus are a little more complex than simple Yes/No Windows. Since we can have more than two options, it might at first seem like our <code>if</code> and <code>else</code> blocks won&#x27;t be enough for us. Something that may be surprising, though, is that we can make an <code>else if</code> block by combining both of them together! We can see it here:</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">if (conditionA) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">} else if (conditionB) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">} else if (conditionC) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">} else if (conditionD) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">} else {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<p>By doing this, not only are we able to do something only when Condition A is true, but we can also specify code for when only Condition B, C, or D are true! Let&#x27;s see how we can use this with List Menus.</p>
<p>Let&#x27;s say that we want our NPC to say one thing if we pick their favorite Pokémon, one thing if we pick their least favorite Pokémon, and one thing if we pick anything else. For this example, let&#x27;s suppose this Janitor&#x27;s favorite Pokémon is Stunfisk and his least favorite Pokémon is Magikarp.</p>
<p>If we do something like this here after we create our list:</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">if (result == 618) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Message.Actor(1024, 18, 0, 0);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Input.LastKeyWait();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">} else if (result == 129) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Message.Actor(1024, 19, 0, 0);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Input.LastKeyWait();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">} else {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Message.Actor(1024, 20, 0, 0);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Input.LastKeyWait();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>There is a difference between <code>=</code> with a single equal sign and <code>==</code> with two equal signs. With just <code>=</code> it assigns a value to a variable, but with <code>==</code> it compares both sides to see if they are equal in value to each other.</p></div></div>
<p>We can see that if the player selected Stunfisk, <code>result</code> in this case will be set to <code>618</code> and then trigger the first <code>if</code> block. If we instead chose Magikarp, then <code>result</code> would be set to <code>129</code> in this case, triggering the code in the middle. If we selected any of the other options, though, then the <code>else</code> block&#x27;s code will run. The value that <code>result</code> is set to will depend on what you used in <code>ListMenu.AddItem()</code>, but this general format is what you can use to check through multiple scenarios. If we combine everything we&#x27;ve used so far, we can get something like this!</p>
<video controls=""><source src="/video/generation-v/guides/bw_b2w2-pokescript02/list_demo01.mp4" type="video/mp4"></video>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="giving-a-pokémon">Giving a Pokémon<a href="#giving-a-pokémon" class="hash-link" aria-label="Direct link to Giving a Pokémon" title="Direct link to Giving a Pokémon">​</a></h2>
<p>You may have noticed that with this save, you don&#x27;t have any Pokémon. Let&#x27;s change that!</p>
<p>For this, normally we&#x27;d need to import the <code>PokeParty</code> package from <code>pokemon.PokeParty</code>, but since this map already has this imported, we don&#x27;t have to worry about it like we did for our List Menus and Yes/No Windows!</p>
<p>To add a Pokémon to the player&#x27;s party, we&#x27;ll use <code>PokeParty.AddPkm()</code>. If we wanted to give the player a Level 15 Magikarp for example, we would write:</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">PokeParty.AddPkm(129, 0, 15);</span><br></span></code></pre></div></div>
<p>Here, the first parameter is the Pokémon species ID, the second parameter is the form of the Pokémon, and the third parameter is the level. Since we don&#x27;t have any special forms for Magikarp, we just set that argument to <code>0</code>.</p>
<p>If we try to take a look in-game after adding this, we won&#x27;t really notice anything, so let&#x27;s at least try to look at the Pokémon menu. ...Except, we can&#x27;t do that either! For us to see the Pokémon option in the X Menu, let&#x27;s briefly talk about Flags.</p>
<p>Flags are a longer-term way to store the “state” of something being <code>true</code> or <code>false</code>. Unlike our variable <code>isNo</code> from earlier, Flags can persist even after the script ends. Throughout the game they are used for many purposes such as letting the game know things like if the player has picked up an item or not, if it should show an NPC to us or not, if a player has battled a Trainer.</p>
<p>In this case, we&#x27;ll be touching a System Flag. These flags start at Flag 2400 and they track things like if we finished the game, if we&#x27;ve visited a town or not, or in this case, with Flag 2401, if we can see the Pokémon menu or not.</p>
<p>If we want Flag 2401 to be <code>true</code>, we can use the <code>EventFlags.Set()</code> function. If we wanted it to be <code>false</code>, then we can use the <code>EventFlags.Clear()</code> function. So, let&#x27;s make the Pokémon menu visible like so:</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">EventFlags.Set(2401);</span><br></span></code></pre></div></div>
<p>When we run our script again, we can see the Pokémon that we were supposed to be gifted! As a challenge, try to use our <code>result</code> variable from earlier to give the player the Pokémon that they selected instead of Magikarp. In a later part, we will go into further detail on Flags, plus  will also later look more in depth at things we can do with text.</p>
<p><img decoding="async" loading="lazy" alt="The Magikarp that our NPC has gifted us" src="/assets/images/koiking-55d259707b8321bf6315a1b4bee0f204.png" width="768" height="576" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="prepare-for-battle">Prepare for Battle!<a href="#prepare-for-battle" class="hash-link" aria-label="Direct link to Prepare for Battle!" title="Direct link to Prepare for Battle!">​</a></h2>
<p>Now is finally the part that you&#x27;ve likely been waiting for! Let&#x27;s see how we can battle a Trainer! For this lesson, editing Trainers won&#x27;t be covered, but for now, we will just use a Trainer that already exists in game, Janitor Orville.</p>
<p>To make a battle, we&#x27;ll need to import the <code>Battle</code> package from <code>event.Battle</code>. Based on how we&#x27;ve imported packages before, try importing the <code>Battle</code> package on your own.</p>
<p>After we get the <code>Battle</code> package imported, we can set up a battle like so:</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Battle.CallTrainerBattle(182, 0, 0);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">boolean didPlayerWin = Battle.IsTrainerVictory();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">if (didPlayerWin == true) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Battle.EndTrainerBattle();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">} else {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Battle.CallTrainerLose();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<p>One more time, let&#x27;s break down what is happening part by part again:</p>
<ul>
<li><code>Battle.CallTrainerBattle()</code>: This is what starts the Trainer battle for us. We have a few parameters, so let&#x27;s see what they do as well.<!-- -->
<ul>
<li>The first parameter: This is the party that the Trainer will use for this battle. In this case, Trainer 182 is the one used by Janitor Orville.</li>
<li>The second parameter: If you want a multi-battle against two Trainers, then this can be used to set the party to be used by the second Trainer. If this is set to <code>0</code> like it is here, though, it will just be a single battle.</li>
<li>The third parameter: Depending on what this is set as, it makes the battle handle certain special cases. For most people, though, you only need to know that if this is set to <code>1</code>, it will be a battle where the game continues even if all of your Pokémon have fainted. If we don&#x27;t want anything special like that, we can just keep this set to <code>0</code>.</li>
</ul>
</li>
<li><code>boolean didPlayerWin = Battle.IsTrainerVictory()</code>: Similar to when we set <code>isNo</code> earlier on, we are doing the same thing here, but this <code>boolean</code> variable will be <code>true</code> if the player won the battle and <code>false</code> if the player lost the battle.</li>
<li><code>Battle.EndTrainerBattle()</code>: If the player won the battle, then they can continue on with the rest of the script by ending the battle normally.</li>
<li><code>Battle.CallTrainerLose()</code>: If the player lost the battle, they should go to the last Pokémon Center that they visited. If this battle is one where you&#x27;re not supposed to black out after losing, you will get a screen saying <code>An error has occurred.</code></li>
</ul>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>As one last challenge, given what was said in the breakdown above, try making a Trainer battle that you can continue from even after you lose! And as an additional twist, by looking at another script or in the <a href="https://docs.google.com/spreadsheets/d/1zvLQFVdv6kbEgP9TY9yfV6ChK0qsz79E6PvF5lohnGk/edit?usp=sharing" target="_blank" rel="noopener noreferrer">script command doc</a>, try figuring out how to heal your party without going to the Pokémon Center!</p><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Sample Solution</summary><div><div class="collapsibleContent_i85q"><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Battle.CallTrainerBattle(182, 0, 1);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Battle.EndTrainerBattle();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">PokeParty.RecoverAll();</span><br></span></code></pre></div></div></div></div></details></div></div>
<video controls=""><source src="/video/generation-v/guides/bw_b2w2-pokescript02/battle_demo01.mp4" type="video/mp4"></video>
<h1>Congratulations on surviving until the end! Now that you&#x27;ve finished this entry, now we can have our NPCs ask us questions and battle us in addition to getting them to face us and talk to us like before! Take a look at some other scripts and continue to be adventurous with scripting until the next entry of <em>Hands-on with PokéScript</em>! If you need any additional support join the <a href="https://discord.gg/YBtdN3aXfv" target="_blank" rel="noopener noreferrer">DS Modding Community Discord server</a> to get help with scripting and more!</h1>
<hr>
<p>title: &#x27;Hands-on with PokéScript: Yes, No, Maybe a Battle So&#x27;
tags:</p>
<ul>
<li>Guide (Black)</li>
<li>Guide (White)</li>
<li>Guide (Black 2)</li>
<li>Guide (White 2)</li>
<li>Hands-on with PokéScript</li>
<li>Hands-on with...</li>
</ul>
<hr>
<h1>Hands-on with PokéScript:<br>Yes, No, Maybe a Battle So</h1>
<blockquote>
<p>Author(s): <a href="https://github.com/brombrombromley" target="_blank" rel="noopener noreferrer">Brom</a></p>
</blockquote>
<p>In the <a href="/docs/generation-v/guides/bw_b2w2-pokescript01/">last part of <em>Hands-on with PokéScript</em></a>, we learned how to get an NPC to speak to us! But, what if we wanted to have an NPC ask us a question? Or, something more exciting, how about if we wanted to have them challenge us to a battle? In this entry of <em>Hands-on with PokéScript</em>, we&#x27;ll be learning how to do just that! By the end of this entry, we&#x27;ll have something that looks like this:</p>
<video controls=""><source src="/video/generation-v/guides/bw_b2w2-pokescript02/battle_demo01.mp4" type="video/mp4"></video>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="setting-up-1">Setting Up<a href="#setting-up-1" class="hash-link" aria-label="Direct link to Setting Up" title="Direct link to Setting Up">​</a></h2>
<p>For this entry, there will be a <a href="/assets/files/pokescript02-81667d29e64dffcc106440bd5c6ccf07.sav" target="_blank">save file</a> provided to help with following along. With this save file, it will place you in the lower part of Hugh&#x27;s house in Aspertia City, Zone 429. For this entry, we will be placing a new NPC in the upstairs area, Zone 430. This save file can be imported by most emulators.</p>
<ul>
<li>For MelonDS, this save can be imported using the <code>File &gt; Import savefile</code> option then opening <code>pokescript02.sav</code>.</li>
<li>For DeSmuME, this save can be imported using the <code>File &gt; Import Backup Memory...</code> option then opening <code>pokescript02.sav</code>.</li>
</ul>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>If you remember from the last part, if you don&#x27;t reload a map after adding a new NPC, moving them around, reassigning their script, and things like that, they won&#x27;t appear changed in game. This is the main reason for why the save is in the downstairs area rather than directly in the upstairs area.</p></div></div>
<p>After getting the save file loaded, let&#x27;s get back into our CTRMap project and head to Zone 430 using the Zone Loader. Now that we&#x27;re in Zone 430, let&#x27;s add another NPC just like how we did in the <a href="/docs/generation-v/guides/bw_b2w2-pokescript01/">first part</a> and place it at <code>(x: 12, z: 4)</code> and have it face to the west like so.</p>
<p><img decoding="async" loading="lazy" alt="We have placed our Janitor NPC in front of the fridge in the kitchen" src="/assets/images/in_rival_house01-ee29776bc2883c98ebb17d1c85ead82b.png" width="3072" height="1698" class="img_ev3q"></p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>In this case, I have set the <code>Model No.</code> field to 69 to be a Janitor in order to match the Trainer party we will be using later in this guide.</p></div></div>
<p>Using what we learned in the <a href="/docs/generation-v/guides/bw_b2w2-pokescript01/">last part</a>, let&#x27;s try making an NPC that faces us when we talk to them and asks us if we like Pokémon.</p>
<p><img decoding="async" loading="lazy" alt="Janitor asking us “Do you like Pokémon?”" src="/assets/images/in_rival_house02-9718b774fde9ddc490945f93aec786f6.png" width="768" height="576" class="img_ev3q"></p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>If you want to see a solution of how you might script this, you can see a sample version below.</p><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Sample Solution</summary><div><div class="collapsibleContent_i85q"><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public static void main_5() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  	Actor.PauseAll();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  	Sound.SEPlay(1351);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  	Actor.FacePlayer();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  	Message.Actor(1024, 9, 0, 0);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  	Input.LastKeyWait();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  	Message.CloseAll();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  	Runtime.FinishSubEvents();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  	Actor.UnpauseAll();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span></code></pre></div></div><p>Do keep in mind that you might have to use a different message ID when using <code>Message.Actor()</code> depending on where you put your text at.</p></div></div></details></div></div>
<p>You might notice, though, that we won&#x27;t be able to respond to the question he asks us, so what can we do about that? Let&#x27;s tackle some ways we can let the player respond to questions that we might want NPCs to ask them.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="handling-yesno-responses-1">Handling Yes/No Responses<a href="#handling-yesno-responses-1" class="hash-link" aria-label="Direct link to Handling Yes/No Responses" title="Direct link to Handling Yes/No Responses">​</a></h2>
<p>For simple responses to questions asked by NPCs, we can use <code>YesNoWin.Show()</code> to give us a basic box that lets us answer with “YES” or “NO.” You might notice, though, when you try to directly put <code>YesNoWin.Show()</code>, at the bottom of the screen, CTRMap will say <code>Could not resolve method: YesNoWin.Show()</code>. This is because we need to “import” the <code>YesNoWin</code> package.</p>
<p>To fix this, we need to go up to the top of our file and add <code>import event.dialogs.YesNoWin;</code>. For a lot of commands, you will need to import them into your PokéScript file, but luckily, just like the script commands themselves, the package you need to import can also be found in the <a href="https://docs.google.com/spreadsheets/d/1zvLQFVdv6kbEgP9TY9yfV6ChK0qsz79E6PvF5lohnGk/edit?usp=sharing" target="_blank" rel="noopener noreferrer">script command doc</a> in the second to last column. This might be a little difficult to get used to at first, but with time it will gradually become more familiar.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>You might not have noticed it, but even when we use <code>Message.Actor()</code> or <code>Message.CloseAll()</code>, we are actually using functions from <code>event.dialogs.Message</code>. You can see this at the top of the script file where it says <code>import event.dialogs.Message;</code> along with the other “packages” that are being imported for this script.</p></div></div>
<p>Now that we can put in Yes/No Windows using <code>YesNoWin.Show()</code>, let&#x27;s replace the <code>Input.LastKeyWait()</code> with <code>YesNoWin.Show()</code> for now. Let&#x27;s take a look at what that does!</p>
<video controls=""><source src="/video/generation-v/guides/bw_b2w2-pokescript02/yesno_demo01.mp4" type="video/mp4"></video>
<p>Hm... Well, the Yes/No Window shows up, but let&#x27;s see how we can get our NPC to say different things depending on if we say yes or no.</p>
<p>For this, we will need to introduce our handy friend, the <code>if</code> block. Basically, whenever we want something to happen only <em>if</em> some specific thing happens, we can use an <code>if</code> block. Generally, <code>if</code> blocks look like this:</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">if (condition) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // The script commands that will</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // run if the special condition</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  // happens</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<p>Within <code>if</code> blocks, if something is <code>true</code>, then the code inside will happen, and if the condition is <code>false</code>, then the code inside will be skipped. For example, if we can see:</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">if (2 + 2 == 4) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // The code inside here</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // will always run since</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // unless math changes,</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // 2 + 2 will always be 4</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">if (2 + 2 == 5) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // This code will never run</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // because it is false to say</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // that 4 equals 5.</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<p>This isn&#x27;t the most useful for things that are always true like 2 + 2 being 4 and 2 + 2 not being 5, but for something that could change like if the player says yes or no, using this, we can do exactly what we wanted! Let&#x27;s try making our NPC say something when we select no after we give our NPC another line to say.</p>
<p><img decoding="async" loading="lazy" alt="The janitor is flabbergasted by your response!" src="/assets/images/in_rival_house03-ac9598b34f58172cc00b0e19b4289e87.png" width="768" height="576" class="img_ev3q"></p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">public static void main_5() {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Actor.PauseAll();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Sound.SEPlay(1351);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Actor.FacePlayer();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Message.Actor(1024, 9, 0, 0);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    boolean isNo = YesNoWin.Show();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    if (isNo == true) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Message.CloseAll();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Message.Actor(1024, 10, 0, 0);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        Input.LastKeyWait();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Message.CloseAll();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Runtime.FinishSubEvents();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Actor.UnpauseAll();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<p>This might look a little scary at first, but let&#x27;s break it down! Let&#x27;s look at the line with our <code>YesNoWin.Show()</code> first:</p>
<ul>
<li><code>boolean isNo</code>: This here is a variable. With a variable, we can store different kinds of values depending on its type. Because our variable <code>isNo</code> is a <code>boolean</code> type, it means we can hold values that are <code>true</code> or <code>false</code>. In this case, if the player says no, then <code>isNo</code> will be <code>true</code> and if the player says yes, then <code>isNo</code> will be <code>false</code>. Once the script is finished and the player can move again, variables we make like this get their contents deleted.</li>
<li><code>YesNoWin.Show()</code>: In addition to showing a Yes/No Window on the screen, it&#x27;ll also let us know if the player said no or not. If we don&#x27;t store it somewhere like in a variable, then it&#x27;s like a guy shouting alone in a forest with no one to hear him.</li>
<li><code>=</code>: When we have a single equal sign, instead of seeing if two things are equal to each other, it&#x27;ll put whatever came from the right into the variable on the left. In this case, we take whatever <code>YesNoWin.Show()</code> said and give it to <code>isNo</code>.</li>
</ul>
<p>How about we make our NPC do something else if we don&#x27;t say no? This is where the <code>if</code> block&#x27;s handy associate comes in, the <code>else</code> block. Whenever you want something to run if it&#x27;s not the special condition that the <code>if</code> block is checking for, then the <code>else</code> block will run. We can use it like so:</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">if (isNo) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Message.CloseAll();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Message.Actor(1024, 10, 0, 0);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Input.LastKeyWait();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">} else {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Message.CloseAll();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Message.Actor(1024, 11, 0, 0);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Input.LastKeyWait();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<p>Now, when the player says no, the NPC will say line 10, but if not, then the NPC will say line 11 instead! We&#x27;ll be using these “conditionals” more as we continue working on this script.</p>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>Similar to how <code>YesNoWin.Show()</code> can give us a <code>boolean</code> value, every function in PokéScript has a return type! One of the things we handwaved before earlier is the <code>void</code> whenever we make a new script. This is because when a function returns <code>void</code>; just like the real void, it returns nothing.</p></div></div>
<p>If you&#x27;ve gotten to this portion, pat yourself on the back! Getting the tools of making a script, importing packages, and using basic conditionals is much of what you will need when scripting! By the end of this section, you should have something like this:</p>
<video controls=""><source src="/video/generation-v/guides/bw_b2w2-pokescript02/yesno_demo02.mp4" type="video/mp4"></video>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="handling-multiple-choice-responses-1">Handling Multiple Choice Responses<a href="#handling-multiple-choice-responses-1" class="hash-link" aria-label="Direct link to Handling Multiple Choice Responses" title="Direct link to Handling Multiple Choice Responses">​</a></h2>
<p>How about if we wanted to answer something more complex than yes or no? If we let&#x27;s say wanted to have a list of different Pokémon to choose from, then using a list from the <code>ListMenu</code> package is right what we need.</p>
<p>Similar to how we needed to import the <code>YesNoWin</code> package for us to be able to show a Yes/No Window, we&#x27;ll need to import the <code>ListMenu</code> package like so:</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">import event.dialogs.ListMenu;</span><br></span></code></pre></div></div>
<p>Let&#x27;s make our NPC which Pokémon the player likes the most out of five Pokémon. In the Event Editor tab, let&#x27;s add five new lines at the end and put in the names of five different Pokémon.</p>
<p>After we add the text that is supposed to show up in our List Menu, we can create a List Menu with 5 elements like this:</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">int result;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ListMenu.InitRightAnchor(31, 1, 0, 0, result);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ListMenu.AddItem(12, 0xFFFF, 273);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ListMenu.AddItem(13, 0xFFFF, 270);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ListMenu.AddItem(14, 0xFFFF, 129);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ListMenu.AddItem(15, 0xFFFF, 54);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ListMenu.AddItem(16, 0xFFFF, 618);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">ListMenu.ShowDialog();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Message.CloseAll();</span><br></span></code></pre></div></div>
<p>Let&#x27;s break this down again bit by bit again, starting with the first line.</p>
<ul>
<li>
<p><code>int result</code>: This is another kind of variable. If you remember how our <code>boolean</code> variable <code>isNo</code> could hold <code>true</code> or <code>false</code> values, our <code>int</code> (integer) variable called <code>result</code> can hold numbers. In this case, this variable will be the <em>result</em> from the item in the List Menu that we selected. After the script finishes, though, this is reset, so it won&#x27;t remember what we picked last time unless we save it some other way. We&#x27;ll look at how we can store things like this even after the script finishes in another lesson.</p>
</li>
<li>
<p><code>ListMenu.InitRightAnchor()</code>: This here is what we need to say we would like to make a ListMenu. Here, we generally want to have the right side of the List Menu to be our reference point for positioning it. This is why we use the <code>InitRightAnchor()</code> command. If we wanted to use the left side as our reference point, we could use <code>InitLeftAnchor()</code> instead. Let&#x27;s look at each of the parameters for these functions:</p>
<ul>
<li>The first parameter: This lets us set how far to the right the menu should be positioned. Generally, if you want it to appear on the right edge of the screen when using <code>InitRightAnchor()</code>, setting it to <code>31</code> is good.</li>
<li>The second parameter: This lets us set how far down the menu should be positioned. Generally, if you want it to appear on the top edge of the screen, setting it to <code>1</code> is good.</li>
<li>The third parameter: This is the List Menu item that will be selected by default once we show the List Menu.</li>
<li>The fourth parameter: This lets us set if we can close out from this menu using the B Button or not. If we set this to <code>0</code>, then the player must select something, but if we do want the player to be able to cancel by pressing the B Button, we can set this to <code>1</code>.</li>
<li>The fifth parameter: This is what variable will be used to store what the player selected from the list.</li>
</ul>
<p>Just like last time with <code>Message.Actor()</code>, you can find the parameters for a command in the <a href="https://docs.google.com/spreadsheets/d/1zvLQFVdv6kbEgP9TY9yfV6ChK0qsz79E6PvF5lohnGk/edit?usp=sharing" target="_blank" rel="noopener noreferrer">script command doc</a>, so don&#x27;t worry about trying to remember every parameter here!</p>
</li>
<li>
<p><code>ListMenu.AddItem()</code>: Before we put our List Menu on the screen, we need to add our items to it. Think of it like how a café needs to write everything on its menu board before it can put it out for the day. Let&#x27;s go through each of the parameters:</p>
<ul>
<li>The first parameter: This is the message ID that will be used for this entry. In this case, I added messages 12-16 as entries for my menu items.</li>
<li>The second parameter: If we used <code>Message.System()</code> instead of <code>Message.Actor()</code> to show our text, we can have additional explanation text for each List Menu item. But, since we&#x27;re using <code>Message.Actor()</code> here, we can&#x27;t use this feature. If you don&#x27;t want to use any explanatory text, you can set this argument to <code>0xFFFF</code>.</li>
<li>The third parameter: This is the value that our <code>result</code> variable will be set to if we select this option. Here, I made it so that <code>result</code> will get the Pokédex number of the Pokémon we select.</li>
</ul>
</li>
<li>
<p><code>ListMenu.ShowDialog()</code>: Now that we&#x27;ve said that we wanted to make a List Menu then added items to it, we can call <code>ListMenu.ShowDialog()</code> to show the List Menu on the screen.</p>
</li>
<li>
<p><code>Message.CloseAll()</code>: After the player selects an item from the List Menu, we want it to close.</p>
</li>
</ul>
<p><img decoding="async" loading="lazy" alt="We now have a List Menu on the screen!" src="/assets/images/in_rival_house04-c011c7e85ad8aa00e5080ac59e19d2bd.png" width="768" height="576" class="img_ev3q"></p>
<p>Amazing! Now we have a List Menu on the screen! But, just like last time with the Yes/No Windows, after we select an option, it doesn&#x27;t to anything. Let&#x27;s doing something about it!</p>
<p>List Menus are a little more complex than simple Yes/No Windows. Since we can have more than two options, it might at first seem like our <code>if</code> and <code>else</code> blocks won&#x27;t be enough for us. Something that may be surprising, though, is that we can make an <code>else if</code> block by combining both of them together! We can see it here:</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">if (conditionA) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">} else if (conditionB) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">} else if (conditionC) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">} else if (conditionD) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">} else {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    // ...</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<p>By doing this, not only are we able to do something only when Condition A is true, but we can also specify code for when only Condition B, C, or D are true! Let&#x27;s see how we can use this with List Menus.</p>
<p>Let&#x27;s say that we want our NPC to say one thing if we pick their favorite Pokémon, one thing if we pick their least favorite Pokémon, and one thing if we pick anything else. For this example, let&#x27;s suppose this Janitor&#x27;s favorite Pokémon is Stunfisk and his least favorite Pokémon is Magikarp.</p>
<p>If we do something like this here after we create our list:</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">if (result == 618) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Message.Actor(1024, 18, 0, 0);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Input.LastKeyWait();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">} else if (result == 129) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Message.Actor(1024, 19, 0, 0);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Input.LastKeyWait();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">} else {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Message.Actor(1024, 20, 0, 0);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Input.LastKeyWait();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>There is a difference between <code>=</code> with a single equal sign and <code>==</code> with two equal signs. With just <code>=</code> it assigns a value to a variable, but with <code>==</code> it compares both sides to see if they are equal in value to each other.</p></div></div>
<p>We can see that if the player selected Stunfisk, <code>result</code> in this case will be set to <code>618</code> and then trigger the first <code>if</code> block. If we instead chose Magikarp, then <code>result</code> would be set to <code>129</code> in this case, triggering the code in the middle. If we selected any of the other options, though, then the <code>else</code> block&#x27;s code will run. The value that <code>result</code> is set to will depend on what you used in <code>ListMenu.AddItem()</code>, but this general format is what you can use to check through multiple scenarios. If we combine everything we&#x27;ve used so far, we can get something like this!</p>
<video controls=""><source src="/video/generation-v/guides/bw_b2w2-pokescript02/list_demo01.mp4" type="video/mp4"></video>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="giving-a-pokémon-1">Giving a Pokémon<a href="#giving-a-pokémon-1" class="hash-link" aria-label="Direct link to Giving a Pokémon" title="Direct link to Giving a Pokémon">​</a></h2>
<p>You may have noticed that with this save, you don&#x27;t have any Pokémon. Let&#x27;s change that!</p>
<p>For this, normally we&#x27;d need to import the <code>PokeParty</code> package from <code>pokemon.PokeParty</code>, but since this map already has this imported, we don&#x27;t have to worry about it like we did for our List Menus and Yes/No Windows!</p>
<p>To add a Pokémon to the player&#x27;s party, we&#x27;ll use <code>PokeParty.AddPkm()</code>. If we wanted to give the player a Level 15 Magikarp for example, we would write:</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">PokeParty.AddPkm(129, 0, 15);</span><br></span></code></pre></div></div>
<p>Here, the first parameter is the Pokémon species ID, the second parameter is the form of the Pokémon, and the third parameter is the level. Since we don&#x27;t have any special forms for Magikarp, we just set that argument to <code>0</code>.</p>
<p>If we try to take a look in-game after adding this, we won&#x27;t really notice anything, so let&#x27;s at least try to look at the Pokémon menu. ...Except, we can&#x27;t do that either! For us to see the Pokémon option in the X Menu, let&#x27;s briefly talk about Flags.</p>
<p>Flags are a longer-term way to store the “state” of something being <code>true</code> or <code>false</code>. Unlike our variable <code>isNo</code> from earlier, Flags can persist even after the script ends. Throughout the game they are used for many purposes such as letting the game know things like if the player has picked up an item or not, if it should show an NPC to us or not, if a player has battled a Trainer.</p>
<p>In this case, we&#x27;ll be touching a System Flag. These flags start at Flag 2400 and they track things like if we finished the game, if we&#x27;ve visited a town or not, or in this case, with Flag 2401, if we can see the Pokémon menu or not.</p>
<p>If we want Flag 2401 to be <code>true</code>, we can use the <code>EventFlags.Set()</code> function. If we wanted it to be <code>false</code>, then we can use the <code>EventFlags.Clear()</code> function. So, let&#x27;s make the Pokémon menu visible like so:</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">EventFlags.Set(2401);</span><br></span></code></pre></div></div>
<p>When we run our script again, we can see the Pokémon that we were supposed to be gifted! As a challenge, try to use our <code>result</code> variable from earlier to give the player the Pokémon that they selected instead of Magikarp. In a later part, we will go into further detail on Flags, plus  will also later look more in depth at things we can do with text.</p>
<p><img decoding="async" loading="lazy" alt="The Magikarp that our NPC has gifted us" src="/assets/images/koiking-55d259707b8321bf6315a1b4bee0f204.png" width="768" height="576" class="img_ev3q"></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="prepare-for-battle-1">Prepare for Battle!<a href="#prepare-for-battle-1" class="hash-link" aria-label="Direct link to Prepare for Battle!" title="Direct link to Prepare for Battle!">​</a></h2>
<p>Now is finally the part that you&#x27;ve likely been waiting for! Let&#x27;s see how we can battle a Trainer! For this lesson, editing Trainers won&#x27;t be covered, but for now, we will just use a Trainer that already exists in game, Janitor Orville.</p>
<p>To make a battle, we&#x27;ll need to import the <code>Battle</code> package from <code>event.Battle</code>. Based on how we&#x27;ve imported packages before, try importing the <code>Battle</code> package on your own.</p>
<p>After we get the <code>Battle</code> package imported, we can set up a battle like so:</p>
<div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Battle.CallTrainerBattle(182, 0, 0);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">boolean didPlayerWin = Battle.IsTrainerVictory();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">if (didPlayerWin == true) {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Battle.EndTrainerBattle();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">} else {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    Battle.CallTrainerLose();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre></div></div>
<p>One more time, let&#x27;s break down what is happening part by part again:</p>
<ul>
<li><code>Battle.CallTrainerBattle()</code>: This is what starts the Trainer battle for us. We have a few parameters, so let&#x27;s see what they do as well.<!-- -->
<ul>
<li>The first parameter: This is the party that the Trainer will use for this battle. In this case, Trainer 182 is the one used by Janitor Orville.</li>
<li>The second parameter: If you want a multi-battle against two Trainers, then this can be used to set the party to be used by the second Trainer. If this is set to <code>0</code> like it is here, though, it will just be a single battle.</li>
<li>The third parameter: Depending on what this is set as, it makes the battle handle certain special cases. For most people, though, you only need to know that if this is set to <code>1</code>, it will be a battle where the game continues even if all of your Pokémon have fainted. If we don&#x27;t want anything special like that, we can just keep this set to <code>0</code>.</li>
</ul>
</li>
<li><code>boolean didPlayerWin = Battle.IsTrainerVictory()</code>: Similar to when we set <code>isNo</code> earlier on, we are doing the same thing here, but this <code>boolean</code> variable will be <code>true</code> if the player won the battle and <code>false</code> if the player lost the battle.</li>
<li><code>Battle.EndTrainerBattle()</code>: If the player won the battle, then they can continue on with the rest of the script by ending the battle normally.</li>
<li><code>Battle.CallTrainerLose()</code>: If the player lost the battle, they should go to the last Pokémon Center that they visited. If this battle is one where you&#x27;re not supposed to black out after losing, you will get a screen saying <code>An error has occurred.</code></li>
</ul>
<div class="theme-admonition theme-admonition-note admonition_xJq3 alert alert--secondary"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 14 16"><path fill-rule="evenodd" d="M6.3 5.69a.942.942 0 0 1-.28-.7c0-.28.09-.52.28-.7.19-.18.42-.28.7-.28.28 0 .52.09.7.28.18.19.28.42.28.7 0 .28-.09.52-.28.7a1 1 0 0 1-.7.3c-.28 0-.52-.11-.7-.3zM8 7.99c-.02-.25-.11-.48-.31-.69-.2-.19-.42-.3-.69-.31H6c-.27.02-.48.13-.69.31-.2.2-.3.44-.31.69h1v3c.02.27.11.5.31.69.2.2.42.31.69.31h1c.27 0 .48-.11.69-.31.2-.19.3-.42.31-.69H8V7.98v.01zM7 2.3c-3.14 0-5.7 2.54-5.7 5.68 0 3.14 2.56 5.7 5.7 5.7s5.7-2.55 5.7-5.7c0-3.15-2.56-5.69-5.7-5.69v.01zM7 .98c3.86 0 7 3.14 7 7s-3.14 7-7 7-7-3.12-7-7 3.14-7 7-7z"></path></svg></span>note</div><div class="admonitionContent_BuS1"><p>As one last challenge, given what was said in the breakdown above, try making a Trainer battle that you can continue from even after you lose! And as an additional twist, by looking at another script or in the <a href="https://docs.google.com/spreadsheets/d/1zvLQFVdv6kbEgP9TY9yfV6ChK0qsz79E6PvF5lohnGk/edit?usp=sharing" target="_blank" rel="noopener noreferrer">script command doc</a>, try figuring out how to heal your party without going to the Pokémon Center!</p><details class="details_lb9f alert alert--info details_b_Ee" data-collapsed="true"><summary>Sample Solution</summary><div><div class="collapsibleContent_i85q"><div class="language-java codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#393A34;--prism-background-color:#f6f8fa"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-java codeBlock_bY9V thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#393A34"><span class="token plain">Battle.CallTrainerBattle(182, 0, 1);</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">Battle.EndTrainerBattle();</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">PokeParty.RecoverAll();</span><br></span></code></pre></div></div></div></div></details></div></div>
<video controls=""><source src="/video/generation-v/guides/bw_b2w2-pokescript02/battle_demo01.mp4" type="video/mp4"></video>
<p>Congratulations on surviving until the end! Now that you&#x27;ve finished this entry, now we can have our NPCs ask us questions and battle us in addition to getting them to face us and talk to us like before! Take a look at some other scripts and continue to be adventurous with scripting until the next entry of <em>Hands-on with PokéScript</em>! If you need any additional support join the <a href="https://discord.gg/YBtdN3aXfv" target="_blank" rel="noopener noreferrer">DS Modding Community Discord server</a> to get help with scripting and more!</p></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="theme-doc-footer-edit-meta-row row"><div class="col"><a href="https://github.com/ds-pokemon-hacking/ds-pokemon-hacking.github.io/docs/generation-v/guides/bw_b2w2-pokescript02/bw_b2w2-pokescript02.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_VsjB"></div></div></footer></article><nav class="pagination-nav" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/docs/generation-v/guides/bw_b2w2-pokescript01/"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Hands-on with PokéScript: Our First Script</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/docs/generation-v/guides/bw_b2w2-using_ctrmap/"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">Using CTRMap</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#setting-up" class="table-of-contents__link toc-highlight">Setting Up</a></li><li><a href="#handling-yesno-responses" class="table-of-contents__link toc-highlight">Handling Yes/No Responses</a></li><li><a href="#handling-multiple-choice-responses" class="table-of-contents__link toc-highlight">Handling Multiple Choice Responses</a></li><li><a href="#giving-a-pokémon" class="table-of-contents__link toc-highlight">Giving a Pokémon</a></li><li><a href="#prepare-for-battle" class="table-of-contents__link toc-highlight">Prepare for Battle!</a></li><li><a href="#setting-up-1" class="table-of-contents__link toc-highlight">Setting Up</a></li><li><a href="#handling-yesno-responses-1" class="table-of-contents__link toc-highlight">Handling Yes/No Responses</a></li><li><a href="#handling-multiple-choice-responses-1" class="table-of-contents__link toc-highlight">Handling Multiple Choice Responses</a></li><li><a href="#giving-a-pokémon-1" class="table-of-contents__link toc-highlight">Giving a Pokémon</a></li><li><a href="#prepare-for-battle-1" class="table-of-contents__link toc-highlight">Prepare for Battle!</a></li></ul></div></div></div></div></main></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2025 DS Pokémon Hacking. Built with Docusaurus.</div></div></div></footer></div>
</body>
</html>