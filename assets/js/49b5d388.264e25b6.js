"use strict";(self.webpackChunkkodsh_wiki_new=self.webpackChunkkodsh_wiki_new||[]).push([[390],{64:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/hgss_nsbta1_material_order-2852b74350d1b1ae79940d3d1135a10c.png"},1653:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/02_nsbta_pondwater-e362283b1db6437913d49d07aa140546.gif"},11749:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/pdsms_dspre_nsbta_import-8a40b1f4da7b41297b8ddc841460be43.png"},14767:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/01_nsbca_windmill-de0de118bc2a58119d9c20c457e2760c.gif"},17039:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/hgss_nsbta0-8a75dc428970c2f7db55eb2eaef75c42.gif"},28453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>r});var i=t(96540);const s={},a=i.createContext(s);function o(e){const n=i.useContext(a);return i.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function r(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),i.createElement(a.Provider,{value:n},e.children)}},29384:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>l,contentTitle:()=>r,default:()=>c,frontMatter:()=>o,metadata:()=>i,toc:()=>d});const i=JSON.parse('{"id":"generation-iv/guides/mapping/animations","title":"Animations","description":"Author(s): MrHam88.","source":"@site/docs/generation-iv/guides/mapping/animations.md","sourceDirName":"generation-iv/guides/mapping","slug":"/generation-iv/guides/mapping/animations","permalink":"/docs/generation-iv/guides/mapping/animations","draft":false,"unlisted":false,"editUrl":"https://github.com/ds-pokemon-hacking/ds-pokemon-hacking.github.io/docs/generation-iv/guides/mapping/animations.md","tags":[{"inline":true,"label":"Guide (Diamond)","permalink":"/docs/tags/guide-diamond"},{"inline":true,"label":"Guide (Pearl)","permalink":"/docs/tags/guide-pearl"},{"inline":true,"label":"Guide (Platinum)","permalink":"/docs/tags/guide-platinum"},{"inline":true,"label":"Guide (HeartGold)","permalink":"/docs/tags/guide-heart-gold"},{"inline":true,"label":"Guide (SoulSilver)","permalink":"/docs/tags/guide-soul-silver"}],"version":"current","frontMatter":{"title":"Animations","tags":["Guide (Diamond)","Guide (Pearl)","Guide (Platinum)","Guide (HeartGold)","Guide (SoulSilver)"]},"sidebar":"generation_iv_sidebar","previous":{"title":"Mapping Overview","permalink":"/docs/generation-iv/guides/mapping/"},"next":{"title":"Models","permalink":"/docs/generation-iv/guides/mapping/models"}}');var s=t(74848),a=t(28453);const o={title:"Animations",tags:["Guide (Diamond)","Guide (Pearl)","Guide (Platinum)","Guide (HeartGold)","Guide (SoulSilver)"]},r="Animations",l={},d=[{value:"Animation Types",id:"animation-types",level:2},{value:"Geometry Scale Rotate Translate (SRT)",id:"geometry-scale-rotate-translate-srt",level:3},{value:"Texture Scale Rotate Translate (SRT)",id:"texture-scale-rotate-translate-srt",level:3},{value:"Global NSBTA in HGSS",id:"global-nsbta-in-hgss",level:4},{value:"Texture Patterns",id:"texture-patterns",level:3},{value:"Fixing Texture Pattern Palettes when using Custom NSBTX",id:"fixing-texture-pattern-palettes-when-using-custom-nsbtx",level:4}];function h(e){const n={a:"a",blockquote:"blockquote",br:"br",code:"code",em:"em",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,a.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"animations",children:"Animations"})}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:["Author(s): ",(0,s.jsx)(n.a,{href:"https://github.com/DevHam88",children:"MrHam88"}),"."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"This page summarises the main types of animations present in Generation IV Nintendo DS Pok\xe9mon games that are relevant for ROM hacking mapping purposes."}),"\n",(0,s.jsx)(n.hr,{}),"\n",(0,s.jsx)(n.h2,{id:"animation-types",children:"Animation Types"}),"\n",(0,s.jsxs)(n.p,{children:["As outlined in the summary page ",(0,s.jsx)(n.a,{href:"/docs/generation-iv/guides/mapping/#textures-materials--animations",children:"here"}),", there are five types of possible animations that can be used in the Generation IV Nintendo DS Pok\xe9mon games. This page will provide more context and detail around the first three types:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"Geometry SRT"}),"\n",(0,s.jsx)(n.li,{children:"Texture SRT"}),"\n",(0,s.jsx)(n.li,{children:"Texture Patterns"}),"\n"]}),"\n",(0,s.jsx)(n.h3,{id:"geometry-scale-rotate-translate-srt",children:"Geometry Scale Rotate Translate (SRT)"}),"\n",(0,s.jsx)(n.p,{children:"These are skeletal animations, where parts of 3D models are moving relative to others (a good example from HGSS are the windmills in New Bark Town). They are also used in other non-mapping animations (such as the Lugia/Ho-oh model on the start game screen of SoulSilver and HeartGold respectively)."}),"\n",(0,s.jsxs)(n.p,{children:["This animation data is held in ",(0,s.jsx)(n.code,{children:".nsbca"})," (",(0,s.jsx)(n.em,{children:"Nitro System Binary Character Animation"}),") files relevant to Buildings."]}),"\n",(0,s.jsxs)(n.p,{children:["These animations are intrinsically linked to the model (e.g. building) that they are animating. Best practice is to configure these using a 3D modelling tool such as Blender, which can be used for the model and the animation. It is worth noting that different versions of the ",(0,s.jsx)(n.a,{href:"/docs/generation-iv/guides/mapping/#tooling",children:"NNS Blender plugin"})," are recommended for buildings (with one 'bone' per object) as opposed to complex animations such as the start game screen legendary Pok\xe9mon (which may require multiple 'bones' per object)."]}),"\n",(0,s.jsx)(n.p,{children:"The following are some video tutorials that provide further context and instructions on the correct use of Geometry SRT animations:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://youtu.be/fXejyDusJ7s?feature=shared",children:"How to make Animated Buildings for Pokemon DS games"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://youtu.be/JwBZUIpW66g?feature=shared",children:"Creating custom title screen with bone animations in Pokemon Platinum"})}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.img,{src:t(14767).A+"",width:"610",height:"452"}),(0,s.jsx)(n.br,{}),"\n",(0,s.jsx)(n.img,{src:t(79919).A+"",width:"800",height:"591"})]}),"\n",(0,s.jsx)(n.h3,{id:"texture-scale-rotate-translate-srt",children:"Texture Scale Rotate Translate (SRT)"}),"\n",(0,s.jsx)(n.p,{children:"These are UV map animations, where the UV map position is essentially moved across the faces/polygons it is applied to (a good example from HGSS are the river and pond surfaces)."}),"\n",(0,s.jsxs)(n.p,{children:["This animation data is held in ",(0,s.jsx)(n.code,{children:".nsbta"})," (",(0,s.jsx)(n.em,{children:"Nitro System Binary Texture Animation"}),") files relevant to maps (via ",(0,s.jsx)(n.strong,{children:"global"})," ",(0,s.jsx)(n.code,{children:".nsbta"})," files used in every areadata) and buildings (individual ",(0,s.jsx)(n.code,{children:".nsbta"})," files)."]}),"\n",(0,s.jsxs)(n.p,{children:["These animations are linked to a 'positioned' (HGSS) material in the map ",(0,s.jsx)(n.code,{children:".nsbtx"})," (for global ",(0,s.jsx)(n.code,{children:".nsbta"}),"), or to a named material in the buildings. Custom ",(0,s.jsx)(n.code,{children:".nsbta"})," animations can be designed and created using 3D modelling tools such as Blender, and it is also possible to edit an existing ",(0,s.jsx)(n.code,{children:".nsbta"})," file using CTRMap (usually not a tool used in Generation IV mapping: see Generation V ",(0,s.jsx)(n.a,{href:"/docs/generation-v/guides/getting_started/",children:"Getting Started"})," Wiki page for details)."]}),"\n",(0,s.jsxs)(n.p,{children:["New global ",(0,s.jsx)(n.code,{children:".nsbta"}),' can be added, replaced or deleted to the ROM using the Building Editor in PDSMS, on the "Area Data Editor" tab. They can also be assigned to specific Areadata here, or in DSPRE. To assign "no animations" to an areadata in DSPRE, use an ID of ',(0,s.jsx)(n.code,{children:"65535"}),"."]}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:["HGSS uses global ",(0,s.jsx)(n.code,{children:".nsbta"}),", DPPt does not, and ",(0,s.jsx)(n.code,{children:".nsbta"})," are only used in these games for buildings."]}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:t(11749).A+"",width:"6348",height:"1900"})}),"\n",(0,s.jsx)(n.p,{children:"The following are some video tutorials that provide further context and instructions on the correct use of Texture SRT animations:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://www.youtube.com/watch?v=uZdN3yjkzso",children:"Making your own .nsbta through blender"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://discord.com/channels/446824489045721090/490610651002306561/1372676606442737756",children:"Steps to edit an existing .nsbta using CTRMap"})}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:t(1653).A+"",width:"602",height:"446"})}),"\n",(0,s.jsx)(n.h4,{id:"global-nsbta-in-hgss",children:"Global NSBTA in HGSS"}),"\n",(0,s.jsxs)(n.p,{children:["Specifically in HGSS, texture SRT animations that apply to map elements (not buildings), are determined by the order of animations in the global ",(0,s.jsx)(n.code,{children:".nsbta"})," file associated to the areadata in use, and the order of the materials in the map files and ",(0,s.jsx)(n.code,{children:".nsbtx"}),".",(0,s.jsx)(n.br,{}),"\n","There are two global ",(0,s.jsx)(n.code,{children:".nsbta"})," in the vanilla HGSS, and it is also possible to assign an invalid global ",(0,s.jsx)(n.code,{children:".nsbta"})," (using an ID of ",(0,s.jsx)(n.code,{children:"65535"}),") to remove all Texture SRT animations from that Header and associated maps."]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"Global NSBTA 0 (typically used for most external map locations)"}),"\n",(0,s.jsx)(n.li,{children:"Global NSBTA 1 (typically used for some, but not all, internal cave locations)"}),"\n"]}),"\n",(0,s.jsxs)(n.blockquote,{children:["\n",(0,s.jsxs)(n.p,{children:["Typically urban interiors (houses, shops etc.) have the global ",(0,s.jsx)(n.code,{children:".nsbta"})," set to an invalid value to disable them."]}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["When creating custom maps (and therefore) custom ",(0,s.jsx)(n.code,{children:".nsbtx"})," files in PDSMS, it is important to align the materials order with the global ",(0,s.jsx)(n.code,{children:".nsbta"})," to be used. This can be achieved by ordering the materials in PDSMS's Materials Editor so that the top 'x' match the order and quantity in the global ",(0,s.jsx)(n.code,{children:".nsbta"}),". Importantly for HGSS, the names of the materials don't matter at all, only the position."]}),"\n",(0,s.jsxs)(n.p,{children:["When using vanilla ",(0,s.jsx)(n.strong,{children:"Global NSBTA 0"}),", the following order of materials should be used:"]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"S-shaped top right to bottom left, then top left to bottom right movement"}),"\n",(0,s.jsx)(n.li,{children:"Up-and-down small movement (slightly vertically offset)"}),"\n",(0,s.jsx)(n.li,{children:"Right-to-left movement"}),"\n",(0,s.jsx)(n.li,{children:"Up-and-down small movement"}),"\n",(0,s.jsx)(n.li,{children:"Diagonal bottom left movement to top right"}),"\n",(0,s.jsx)(n.li,{children:"Diagonal top right to bottom left movement"}),"\n",(0,s.jsx)(n.li,{children:"Same as position 1"}),"\n",(0,s.jsx)(n.li,{children:"Same as position 3"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["When using vanilla ",(0,s.jsx)(n.strong,{children:"Global NSBTA 1"}),", the following order of materials should be used:"]}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"S-shaped top right to bottom left, then top left to bottom right movement"}),"\n",(0,s.jsx)(n.li,{children:"Right-to-left movement"}),"\n",(0,s.jsx)(n.li,{children:"Up-and-down small movement"}),"\n",(0,s.jsx)(n.li,{children:"Diagonal bottom left movement to top right"}),"\n",(0,s.jsx)(n.li,{children:"Diagonal top right to bottom left movement"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.img,{src:t(72779).A+"",width:"366",height:"515"}),"\n",(0,s.jsx)(n.img,{src:t(64).A+"",width:"366",height:"387"}),(0,s.jsx)(n.br,{}),"\n",(0,s.jsx)(n.img,{src:t(17039).A+"",width:"366",height:"204"}),"\n",(0,s.jsx)(n.img,{src:t(63254).A+"",width:"366",height:"204"})]}),"\n",(0,s.jsxs)(n.p,{children:["When using a custom global ",(0,s.jsx)(n.code,{children:".nsbta"}),", the order should match that in the custom ",(0,s.jsx)(n.code,{children:".nsbta"})," configuration."]}),"\n",(0,s.jsx)(n.h3,{id:"texture-patterns",children:"Texture Patterns"}),"\n",(0,s.jsx)(n.p,{children:'These are "flipbook" or sequence animations, where a series of image textures are displayed in sequence, where the relative time any given image texture is visible can vary (an example of this from HGSS are the red and white flowers placed on many grass areas).'}),"\n",(0,s.jsxs)(n.p,{children:["This animation data is held in ",(0,s.jsx)(n.code,{children:".nsbtp"})," (",(0,s.jsx)(n.em,{children:"Nitro System Binary Texture Pattern"}),") files relevant to Buildings, and a ",(0,s.jsx)(n.code,{children:".bin"})," file relevant to maps."]}),"\n",(0,s.jsx)(n.p,{children:"The process for creating a texture pattern varies slightly where the intended use is for a map element/tile or a building. The below tutorials provide the methods for both."}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.img,{src:t(84395).A+"",width:"800",height:"597"})}),"\n",(0,s.jsx)(n.p,{children:"The following are some tutorials that provide further context and instructions on the correct use of Texture Pattern animations:"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"https://youtu.be/Rsweh-nSwuc?feature=shared",children:"How to add animated tiles in Pokemon DS maps"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.a,{href:"/docs/universal/guides/nsbtp_creation/",children:"Making Flipbooks using Texture Pattern Animations"})}),"\n"]}),"\n",(0,s.jsx)(n.h4,{id:"fixing-texture-pattern-palettes-when-using-custom-nsbtx",children:"Fixing Texture Pattern Palettes when using Custom NSBTX"}),"\n",(0,s.jsxs)(n.p,{children:["Since texture pattern animations use a series of textures (not just the first one that's used in a tile in PDSMS), the palette used by the full range of images in the pattern will likely have more colours. These means that if a custom ",(0,s.jsx)(n.code,{children:".nsbtx"})," is created with one of the named textures that uses pattern animations, the palette from the custom ",(0,s.jsx)(n.code,{children:".nsbta"})," will result in incorrect colours being displayed when the animation play."]}),"\n",(0,s.jsxs)(n.p,{children:["Therefore it is advisible to selectively take the palette from these specific materials from a vanilla ",(0,s.jsx)(n.code,{children:".nsbtx"})," file and replace the custom ",(0,s.jsx)(n.code,{children:".nsbtx"})," entries of the same name. This replacing of textures and/or palettes can be achieved using the PDSMS NSBTX Editor to open the ",(0,s.jsx)(n.code,{children:".nsbtx"}),' and then import the "good" textures and palettes from an exported vanilla ',(0,s.jsx)(n.code,{children:".nsbtx"}),", delete the original and re-save the ",(0,s.jsx)(n.code,{children:".nsbtx"})," file."]}),"\n",(0,s.jsx)(n.p,{children:"In HGSS there are nine Pattern Animations in the mapping bin file. These relate specifically to the following materials, if these are used on a custom map, they should be replaced with vanilla texture/palettes:"}),"\n",(0,s.jsxs)(n.ol,{children:["\n",(0,s.jsx)(n.li,{children:"sea_on"}),"\n",(0,s.jsx)(n.li,{children:"swave_p"}),"\n",(0,s.jsx)(n.li,{children:"swave_un"}),"\n",(0,s.jsx)(n.li,{children:"sea_rock"}),"\n",(0,s.jsx)(n.li,{children:"sea_rock_m"}),"\n",(0,s.jsx)(n.li,{children:"flower01"}),"\n",(0,s.jsx)(n.li,{children:"flower02"}),"\n",(0,s.jsx)(n.li,{children:"dsea_on"}),"\n",(0,s.jsx)(n.li,{children:"r_sea_rock"}),"\n"]}),"\n",(0,s.jsx)(n.p,{children:"Textures 1-7 are commonly found in the main overworld in HGSS, Textures 1, 4-5, 8-9 are used in some caves."})]})}function c(e={}){const{wrapper:n}={...(0,a.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(h,{...e})}):h(e)}},63254:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/hgss_nsbta1-f4814c30251845122c82cc98aab1a74b.gif"},72779:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/hgss_nsbta0_material_order-9ffe85849ab8424b4d3c2bf1f23a7eeb.png"},79919:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/hg_start_game_hoohconverter-0c1863474a3d97cdf7ecbdf166c0ea4a.gif"},84395:(e,n,t)=>{t.d(n,{A:()=>i});const i=t.p+"assets/images/03_nsbtp_flowers-9a182e5e7ce4cef25180cd8532549d02.gif"}}]);